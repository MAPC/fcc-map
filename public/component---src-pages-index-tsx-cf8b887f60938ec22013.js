/*! For license information please see component---src-pages-index-tsx-cf8b887f60938ec22013.js.LICENSE.txt */
(self.webpackChunkretrofitting_suburbia=self.webpackChunkretrofitting_suburbia||[]).push([[691],{8:function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},3046:function(t,e,n){"use strict";var r=n(1647),i=n(6297),o="value",a="\n  ",s={};function u(t){var e=Array.isArray(t);return function(n){var r,i=l(s.plainArray,n);if(i)return i;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var o=0;o<n.length;o++)if(i=l((r=o,e?t[r]:t),n[o]))return[o].concat(i)}}function l(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function c(t,e){var n=t.length,r=t[n-1],a=t.slice(0,n-1);return 0===a.length&&(a=[o]),e=i(e,{path:a}),"function"==typeof r?r(e):p(e,function(t){return"must be "+function(t){if(/^an? /.test(t))return t;if(/^[aeiou]/i.test(t))return"an "+t;if(/^[a-z]/i.test(t))return"a "+t;return t}(t)+"."}(r))}function h(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function p(t,e){return(f(t.path)?"Item at position ":"")+(t.path.join(".")+" "+e)}function f(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}s.assert=function(t,e){return e=e||{},function(n){var r=l(t,n);if(r){var i=c(r,e);throw e.apiName&&(i=e.apiName+": "+i),new Error(i)}}},s.shape=function(t){var e,n=(e=t,Object.keys(e||{}).map((function(t){return{key:t,value:e[t]}})));return function(t){var e,r=l(s.plainObject,t);if(r)return r;for(var i=[],u=0;u<n.length;u++)e=n[u].key,(r=l(n[u].value,t[e]))&&i.push([e].concat(r));return i.length<2?i[0]:function(t){i=i.map((function(e){return"- "+e[0]+": "+c(e,t).split("\n").join(a)}));var e=t.path.join(".");return"The following properties"+(e===o?"":" of "+e)+" have invalid values:"+a+i.join(a)}}},s.strictShape=function(t){var e=s.shape(t);return function(n){var r=e(n);if(r)return r;var i=Object.keys(n).reduce((function(e,n){return void 0===t[n]&&e.push(n),e}),[]);return 0!==i.length?function(){return"The following keys are invalid: "+i.join(", ")}:void 0}},s.arrayOf=function(t){return u(t)},s.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return u(t)},s.required=function(t){function e(e){return null==e?function(t){return p(t,f(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},s.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var n=t.map((function(t){return l(t,e)})).filter(Boolean);if(n.length===t.length)return n.every((function(t){return 1===t.length&&"string"==typeof t[0]}))?h(n.map((function(t){return t[0]}))):n.reduce((function(t,e){return e.length>t.length?e:t}))}},s.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},s.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return s.equal(t)}));return s.oneOfType.apply(this,e)},s.range=function(t){var e=t[0],n=t[1];return function(t){if(l(s.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},s.any=function(){},s.boolean=function(t){if("boolean"!=typeof t)return"boolean"},s.number=function(t){if("number"!=typeof t)return"number"},s.plainArray=function(t){if(!Array.isArray(t))return"array"},s.plainObject=function(t){if(!r(t))return"object"},s.string=function(t){if("string"!=typeof t)return"string"},s.func=function(t){if("function"!=typeof t)return"function"},s.validate=l,s.processMessage=c,t.exports=s},148:function(t,e,n){"use strict";var r=n(2144);function i(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}i.prototype={select:function(t,e){var n=this.getSelectedIndex(t,e),r=this.getEventPayload("search.select",e);if(r.resultIndex=n,r.resultPlaceName=t.place_name,r.resultId=t.id,(n!==this.lastSentIndex||r.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=r.queryString,r.queryString))return this.push(r)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!t.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(t.keyCode)){var n=this.getEventPayload("search.keystroke",e);if(n.lastAction=t.key,n.queryString)return this.push(n)}},send:function(t,e){if(!this.enableEventLogging)return e?e():void 0;var n=this.getRequestOptions(t);this.request(n,function(t){return t?this.handleError(t,e):e?e():void 0}.bind(this))},getRequestOptions:function(t){return Array.isArray(t)||(t=[t]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},getEventPayload:function(t,e){var n;n=e.options.proximity?[e.options.proximity.longitude,e.options.proximity.latitude]:null;var r=e._map?e._map.getZoom():void 0,i={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",proximity:n,limit:e.options.limit,mapZoom:r,keyboardLocale:this.locale};return"search.select"===t?i.queryString=e.inputString:"search.select"!=t&&e._inputEl?i.queryString=e._inputEl.value:i.queryString=e.inputString,i},request:function(t,e){var n=new XMLHttpRequest;for(var r in n.onreadystatechange=function(){if(4==this.readyState)return 204==this.status?e(null):e(this.statusText)},n.open(t.method,t.host+"/"+t.path,!0),t.headers){var i=t.headers[r];n.setRequestHeader(r,i)}n.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return r()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var n=e._typeahead.data,r=t.id;return n.map((function(t){return t.id})).indexOf(r)}},shouldEnableLogging:function(t){return!1!==t.enableEventLogging&&((!t.origin||-1!=t.origin.indexOf("api.mapbox.com"))&&(!t.localGeocoder&&!t.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},t.exports=i},894:function(t){t.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},5040:function(t,e,n){"use strict";var r=n(4396),i=n(935),o=n(6297),a=n(7555).EventEmitter,s=n(894),u=n(7049),l=n(3081),c=n(148),h=n(7010),p=n(7603);function f(t){this._eventEmitter=new a,this.options=o({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null}f.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=t.onAdd();e.appendChild(n)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(t);if(0===n.length)throw new Error("Element ",t,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,n[0])}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=l(u({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new c(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",i(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(t){this.eventManager.keyevent(t,this)}.bind(this));var o=document.createElement("div");o.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),o.appendChild(this._clearEl),o.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(o),this._typeahead=new r(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},createIcon:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=e;else{var r=document.createElement("div");r.innerHTML="<svg>"+e.valueOf().toString()+"</svg>";var i=r.firstChild.firstChild;n.appendChild(i)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){var e=27,n=9;if(t.keyCode===e&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var r=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!(r?r.value:""))return this.fresh=!0,t.keyCode!==n&&this.clear(t),this._clearEl.style.display="none";t.metaKey||-1!==[n,e,37,39,13,38,40].indexOf(t.keyCode)||r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;if(t&&JSON.stringify(t)!==this.lastSelected){var e;if(this._clearEl.style.display="none",this.options.flyTo)if(t.properties&&s[t.properties.short_code])e=o({},this.options.flyTo),this._map&&this._map.fitBounds(s[t.properties.short_code].bbox,e);else if(t.bbox){var n=t.bbox;e=o({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],e)}else{var r={zoom:this.options.zoom};(e=o({},r,this.options.flyTo)).center=t.center,this._map&&this._map.flyTo(e)}this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this)}},_geocode:function(t){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t}),this.inputString=t;var e,n=this,r=null,i=["bbox","limit","proximity","countries","types","language","reverseMode","mode"].reduce((function(t,e){return n.options[e]&&(["countries","types","language"].indexOf(e)>-1?t[e]=n.options[e].split(/[\s,]+/):t[e]=n.options[e],"proximity"===e&&n.options[e]&&"number"==typeof n.options[e].longitude&&"number"==typeof n.options[e].latitude&&(t[e]=[n.options[e].longitude,n.options[e].latitude])),t}),{});if(this.options.localGeocoderOnly)e=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(t)){var a=t.split(/[\s(,)?]+/).map((function(t){return parseFloat(t,10)})).reverse();!i.types||i.types[0],"proximity"in(i=o(i,{query:a,limit:1}))&&delete i.proximity,e=this.geocoderService.reverseGeocode(i).send()}else i=o(i,{query:t}),e=this.geocoderService.forwardGeocode(i).send();var s=[];this.options.localGeocoder&&((s=this.options.localGeocoder(t))||(s=[]));var u=[];return e.catch(function(t){r=t}.bind(this)).then(function(e){this._loadingEl.style.display="none";var n={};return e?"200"==e.statusCode&&((n=e.body).request=e.request,n.headers=e.headers):n={type:"FeatureCollection",features:[]},n.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?s.concat(n.features):s,this.options.externalGeocoder?(u=this.options.externalGeocoder(t,n.features)||[]).then((function(t){return n.features=n.features?t.concat(n.features):t,n}),(function(){return n})):n}.bind(this)).then(function(t){if(r)throw r;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)).catch(function(t){this._loadingEl.style.display="none",s.length&&this.options.localGeocoder||u.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:s}),this._eventEmitter.emit("error",{error:t})}.bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){t.relatedTarget&&this._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=p.language(t),n=h.placeholder[e];if(n)return n}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t){return this.options.proximity=t,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=l(u({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},_handleMarker:function(t){if(this._map){this._removeMarker();var e=o({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(e),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}},t.exports=f},7010:function(t){"use strict";t.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو"}}},2144:function(t){for(var e=self.crypto||self.msCrypto,n="-_",r=36;r--;)n+=r.toString(36);for(r=36;r---10;)n+=r.toString(36).toUpperCase();t.exports=function(t){var i="",o=e.getRandomValues(new Uint8Array(t||21));for(r=t||21;r--;)i+=n[63&o[r]];return i}},7049:function(t,e,n){"use strict";var r=n(7939);t.exports=r},7939:function(t,e,n){"use strict";var r=n(6376),i=n(3412);function o(t){i.call(this,t)}o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype.sendRequest=r.browserSend,o.prototype.abortRequest=r.browserAbort,t.exports=function(t){return new o(t)}},6376:function(t,e,n){"use strict";var r=n(3387),i=n(6689),o=n(4124),a=n(3703),s={};function u(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function l(t,e){return new Promise((function(n,r){e.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,u(e))};var a=t.file;a&&(e.upload.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_UPLOAD,u(e))}),e.onerror=function(t){r(t)},e.onabort=function(){var e=new i({request:t,type:o.ERROR_REQUEST_ABORTED});r(e)},e.onload=function(){if(delete s[t.id],e.status<200||e.status>=400){var o=new i({request:t,body:e.response,statusCode:e.status});r(o)}else n(e)};var l=t.body;"string"==typeof l?e.send(l):l?e.send(JSON.stringify(l)):a?e.send(a):e.send(),s[t.id]=e})).then((function(e){return function(t,e){return new r(t,{body:e.response,headers:a(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)}))}function c(t,e){var n=t.url(e),r=new window.XMLHttpRequest;return r.open(t.method,n),Object.keys(t.headers).forEach((function(e){r.setRequestHeader(e,t.headers[e])})),r}t.exports={browserAbort:function(t){var e=s[t.id];e&&(e.abort(),delete s[t.id])},sendRequestXhr:l,browserSend:function(t){return Promise.resolve().then((function(){var e=c(t,t.client.accessToken);return l(t,e)}))},createRequestXhr:c}},3412:function(t,e,n){"use strict";var r=n(3585),i=n(3692),o=n(4124);function a(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");r(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||o.API_ORIGIN}a.prototype.createRequest=function(t){return new i(this,t)},t.exports=a},6689:function(t,e,n){"use strict";var r=n(4124);t.exports=function(t){var e,n=t.type||r.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(o){e=t.body}else e=null;var i=t.message||null;i||("string"==typeof e?i=e:e&&"string"==typeof e.message?i=e.message:n===r.ERROR_REQUEST_ABORTED&&(i="Request aborted")),this.message=i,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}},3692:function(t,e,n){"use strict";var r=n(3585),i=n(6297),o=n(8173),a=n(7141),s=n(4124),u=1;function l(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var r=i(n,e.headers),a=Object.keys(r).reduce((function(t,e){return t[e.toLowerCase()]=r[e],t}),{});this.id=u++,this._options=e,this.emitter=new o,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=a}l.prototype.url=function(t){var e=a.prependOrigin(this.path,this.origin);e=a.appendQueryObject(e,this.query);var n=this.params,o=null==t?this.client.accessToken:t;if(o){e=a.appendQueryParam(e,"access_token",o);var s=r(o).user;n=i({ownerId:s},n)}return e=a.interpolateRouteParams(e,n),e},l.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(s.EVENT_RESPONSE,e),e}),(function(e){throw t.error=e,t.emitter.emit(s.EVENT_ERROR,e),e}))},l.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},l.prototype.eachPage=function(t){var e=this;function n(n){t(null,n,(function(){delete e._nextPageRequest;var t=n.nextPage();t&&(e._nextPageRequest=t,i(t))}))}function r(e){t(e,null,(function(){}))}function i(t){t.send().then(n,r)}i(this)},l.prototype.clone=function(){return this._extend()},l.prototype._extend=function(t){var e=i(this._options,t);return new l(this.client,e)},t.exports=l},3387:function(t,e,n){"use strict";var r=n(5435);function i(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(n){this.body=e.body}this.links=r(this.headers.link)}i.prototype.hasNextPage=function(){return!!this.links.next},i.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=i},4124:function(t){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},3703:function(t){"use strict";t.exports=function(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var n=function(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[n.name]=n.value})),e):e}},5435:function(t){"use strict";t.exports=function(t){return t?t.split(/,\s*</).reduce((function(t,e){var n=function(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],r=e[2].split(";"),i=null,o=r.reduce((function(t,e){var n=function(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return n?"rel"===n.key?(i||(i=n.value),t):(t[n.key]=n.value,t):t}),{});return i?{url:n,rel:i,params:o}:null}(e);return n?(n.rel.split(/\s+/).forEach((function(e){t[e]||(t[e]={url:n.url,params:n.params})})),t):t}),{}):{}}},7141:function(t){"use strict";function e(t){return Array.isArray(t)?t.map(encodeURIComponent).join(","):encodeURIComponent(String(t))}function n(t,n,r){if(!1===r||null===r)return t;var i=/\?/.test(t)?"&":"?",o=encodeURIComponent(n);return void 0!==r&&""!==r&&!0!==r&&(o+="="+e(r)),""+t+i+o}t.exports={appendQueryObject:function(t,e){if(!e)return t;var r=t;return Object.keys(e).forEach((function(t){var i=e[t];void 0!==i&&(Array.isArray(i)&&(i=i.filter((function(t){return null!=t})).join(",")),r=n(r,t,i))})),r},appendQueryParam:n,prependOrigin:function(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t},interpolateRouteParams:function(t,n){return n?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,r){var i=n[r];if(void 0===i)throw new Error("Unspecified route parameter "+r);return"/"+e(i)})):t}}},8173:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(p=1,u=new Array(h-1);p<h;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},3081:function(t,e,n){"use strict";var r=n(6297),i=n(7396),o=n(8015),a=n(8986),s=n(3325),u={},l=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){i.assertShape({query:i.required(i.string),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),proximity:i.coordinates,types:i.arrayOf(i.oneOf(l)),autocomplete:i.boolean,bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string),routing:i.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(r({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){i.assertShape({query:i.required(i.coordinates),mode:i.oneOf("mapbox.places","mapbox.places-permanent"),countries:i.arrayOf(i.string),types:i.arrayOf(i.oneOf(l)),bbox:i.arrayOf(i.number),limit:i.number,language:i.arrayOf(i.string),reverseMode:i.oneOf("distance","score"),routing:i.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(r({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},t.exports=s(u)},3325:function(t,e,n){"use strict";var r=n(3412),i=n(7939);t.exports=function(t){return function(e){var n;n=r.prototype.isPrototypeOf(e)?e:i(e);var o=Object.create(t);return o.client=n,o}}},2395:function(t){"use strict";t.exports=function(t,e){return Object.keys(t).reduce((function(n,r){return n[r]=e(r,t[r]),n}),{})}},8015:function(t){"use strict";t.exports=function(t,e){var n=function(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"==typeof e&&(n=e),Object.keys(t).filter((function(e){return n(e,t[e])})).reduce((function(e,n){return e[n]=t[n],e}),{})}},8986:function(t,e,n){"use strict";var r=n(2395);t.exports=function(t){return r(t,(function(t,e){return"boolean"==typeof e?JSON.stringify(e):e}))}},7396:function(t,e,n){"use strict";var r=n(6297),i=n(3046);t.exports=r(i,{file:function(t){if("undefined"!=typeof window){if(t instanceof n.g.Blob||t instanceof n.g.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function(t){var e="date";if("boolean"==typeof t)return e;try{var n=new Date(t);if(n.getTime&&isNaN(n.getTime()))return e}catch(r){return e}},coordinates:function(t){return i.tuple(i.number,i.number)(t)},assertShape:function(t,e){return i.assert(i.strictShape(t),e)}})},3585:function(t,e,n){"use strict";var r=n(4321),i={};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t){if(i[t])return i[t];var e=t.split("."),n=e[0],a=e[1];if(!a)throw new Error("Invalid token");var s=function(t){try{return JSON.parse(r.decode(t))}catch(e){throw new Error("Invalid token")}}(a),u={usage:n,user:s.u};return o(s,"a")&&(u.authorization=s.a),o(s,"exp")&&(u.expires=1e3*s.exp),o(s,"iat")&&(u.created=1e3*s.iat),o(s,"scopes")&&(u.scopes=s.scopes),o(s,"client")&&(u.client=s.client),o(s,"ll")&&(u.lastLogin=s.ll),o(s,"iu")&&(u.impersonator=s.iu),i[t]=u,u}},4321:function(t,e,n){var r;t=n.nmd(t),function(i){var o=e,a=(t&&t.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(t){this.message=t};(s.prototype=new Error).name="InvalidCharacterError";var u=function(t){throw new s(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,o=t.length%3,a="",s=-1,c=t.length-o;++s<c;)e=t.charCodeAt(s)<<16,n=t.charCodeAt(++s)<<8,r=t.charCodeAt(++s),a+=l.charAt((i=e+n+r)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==o?(e=t.charCodeAt(s)<<8,n=t.charCodeAt(++s),a+=l.charAt((i=e+n)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(s),a+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(c,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",a=-1;++a<e;)r=l.indexOf(t.charAt(a)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"0.1.0"};void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}()},7555:function(t){"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,n)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,a,l;if(s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):d(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var l=u.length,c=d(u,l);for(n=0;n<l;++n)r(c[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return p(this,t,!0)},o.prototype.rawListeners=function(t){return p(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},8261:function(t){var e;e={},t.exports=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var r,i=0,o=[],a=e.length,s=0,u=0,l=n.pre||"",c=n.post||"",h=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var p=0;p<a;p++)r=e[p],h[p]===t[i]?(r=l+r+c,i+=1,u+=1+u):u=0,s+=u,o[o.length]=r;return i===t.length?(s=h===t?1/0:s,{rendered:o.join(""),score:s}):null},e.filter=function(t,n,r){return n&&0!==n.length?"string"!=typeof t?n:(r=r||{},n.reduce((function(n,i,o,a){var s=i;r.extract&&(s=r.extract(i));var u=e.match(t,s,r);return null!=u&&(n[n.length]={string:u.rendered,score:u.score,index:o,original:i}),n}),[]).sort((function(t,e){var n=e.score-t.score;return n||t.index-e.index}))):[]}},5087:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,p=Math.abs,f=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=m((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=m((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function E(t,e){return t===s?e:t}function k(t,e,n){g(P(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){g(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function M(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function C(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function L(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];T(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function j(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}return s}var R=1;function A(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var z="ontouchstart"in i,I=j(i,"PointerEvent")!==s,D=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",Z="mouse",F=24,B=["x","y"],q=["clientX","clientY"];function W(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function V(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=U(e));i>1&&!n.firstMultiple?n.firstMultiple=U(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=H(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(u,l),e.distance=X(u,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Y(e.deltaX,e.deltaY);var c=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?(h=a.pointers,d=r,X(d[0],d[1],q)/X(h[0],h[1],q)):1,e.rotation=a?function(t,e){return K(e[1],e[0],q)+K(t[1],t[0],q)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=G(u,l,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=Y(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,d;var v=t.element;M(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function U(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function Y(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function X(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}W.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(A(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4},$="mousedown",J="mousemove mouseup";function tt(){this.evEl=$,this.evWin=J,this.pressed=!1,W.apply(this,arguments)}_(tt,W,{handler:function(t){var e=Q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Z,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:N,3:"pen",4:Z,5:"kinect"},rt="pointerdown",it="pointermove pointerup pointercancel";function ot(){this.evEl=rt,this.evWin=it,W.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(rt="MSPointerDown",it="MSPointerMove MSPointerUp MSPointerCancel"),_(ot,W,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=et[r],o=nt[t.pointerType]||t.pointerType,a=o==N,s=T(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",ut="touchstart touchmove touchend touchcancel";function lt(){this.evTarget=st,this.evWin=ut,this.started=!1,W.apply(this,arguments)}function ct(t,e){var n=O(t.touches),r=O(t.changedTouches);return 12&e&&(n=L(n.concat(r),"identifier",!0)),[n,r]}_(lt,W,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=ct.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}}});var ht={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pt="touchstart touchmove touchend touchcancel";function ft(){this.evTarget=pt,this.targetIds={},W.apply(this,arguments)}function dt(t,e){var n=O(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return M(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[L(o.concat(s),"identifier",!0),s]:void 0}_(ft,W,{handler:function(t){var e=ht[t.type],n=dt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}});function vt(){W.apply(this,arguments);var t=w(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function gt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,mt.call(this,e)):12&t&&mt.call(this,e)}function mt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function yt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(vt,W,{handler:function(t,e,n){var r=n.pointerType==N,i=n.pointerType==Z;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)gt.call(this,e,n);else if(i&&yt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=j(c.style,"touchAction"),_t=bt!==s,wt="compute",xt="auto",Et="manipulation",kt="none",St="pan-x",Mt="pan-y",Ct=function(){if(!_t)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function Pt(t,e){this.manager=t,this.set(e)}Pt.prototype={set:function(t){t==wt&&(t=this.compute()),_t&&this.manager.element.style&&Ct[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(C(t,kt))return kt;var e=C(t,St),n=C(t,Mt);if(e&&n)return kt;if(e||n)return e?St:Mt;if(C(t,Et))return Et;return xt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=C(r,kt)&&!Ct.none,o=C(r,Mt)&&!Ct["pan-y"],a=C(r,St)&&!Ct["pan-x"];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&n&F?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Tt=32;function Ot(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Lt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function jt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Rt(t,e){var n=e.manager;return n?n.get(t):t}function At(){Ot.apply(this,arguments)}function zt(){At.apply(this,arguments),this.pX=null,this.pY=null}function It(){At.apply(this,arguments)}function Dt(){Ot.apply(this,arguments),this._timer=null,this._input=null}function Nt(){At.apply(this,arguments)}function Zt(){At.apply(this,arguments)}function Ft(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Bt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Bt.defaults.preset),new qt(t,e)}Ot.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Rt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=Rt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=Rt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=Rt(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Lt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Lt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Tt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=Tt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(At,Ot,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:Tt}}),_(zt,At,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Mt),t&F&&e.push(St),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return At.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=jt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(It,At,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Dt,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Tt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(Nt,At,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Zt,At,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return zt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&F&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=jt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Ft,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||X(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Tt},failTimeout:function(){return this._timer=d((function(){this.state=Tt}),this.options.interval,this),Tt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Bt.VERSION="2.0.7",Bt.defaults={domEvents:!1,touchAction:wt,enable:!0,inputTarget:null,inputClass:null,preset:[[Nt,{enable:!1}],[It,{enable:!1},["rotate"]],[Zt,{direction:6}],[zt,{direction:6},["swipe"]],[Ft],[Ft,{event:"doubletap",taps:2},["tap"]],[Dt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function qt(t,e){var n;this.options=u({},Bt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(I?ot:D?ft:z?vt:tt))(n,V),this.touchAction=new Pt(this,this.options.touchAction),Wt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Wt(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,o){n=j(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}qt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ot)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(P(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Wt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Bt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Tt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:F,DIRECTION_ALL:30,Manager:qt,Input:W,TouchAction:Pt,TouchInput:ft,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:vt,SingleTouchInput:lt,Recognizer:Ot,AttrRecognizer:At,Tap:Ft,Pan:zt,Swipe:Zt,Pinch:It,Rotate:Nt,Press:Dt,on:k,off:S,each:g,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:j}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Bt,(r=function(){return Bt}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},1647:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n;return"[object Object]"===e.call(t)&&(null===(n=Object.getPrototypeOf(t))||n===Object.getPrototypeOf({}))}},935:function(t,e,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,d=function(){return c.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=o.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,u,l=0,c=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function b(t){return l=t,s=setTimeout(w,e),c?y(t):a}function _(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-l>=o}function w(){var t=d();if(_(t))return x(t);s=setTimeout(w,function(t){var n=e-(t-u);return h?f(n,o-(t-l)):n}(t))}function x(t){return s=void 0,m&&r?y(t):(r=i=void 0,a)}function E(){var t=d(),n=_(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return b(u);if(h)return s=setTimeout(w,e),y(u)}return void 0===s&&(s=setTimeout(w,e)),a}return e=g(e)||0,v(n)&&(c=!!n.leading,o=(h="maxWait"in n)?p(g(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:x(d())},E}},2993:function(t){var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,u,l,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(u=s;0!=u--;)if(!o(t[u],a[u]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(u=c.next()).done;)if(!a.has(u.value[0]))return!1;for(c=t.entries();!(u=c.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(u=c.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(u=s;0!=u--;)if(t[u]!==a[u])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(l=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(u=s;0!=u--;)if(!Object.prototype.hasOwnProperty.call(a,l[u]))return!1;if(e&&t instanceof Element)return!1;for(u=s;0!=u--;)if(("_owner"!==l[u]&&"__v"!==l[u]&&"__o"!==l[u]||!t.$$typeof)&&!o(t[l[u]],a[l[u]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4839:function(t,e,n){"use strict";var r,i=n(7294),o=(r=i)&&"object"==typeof r&&"default"in r?r.default:r;function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,n){if("function"!=typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var u,l=[];function c(){u=t(l.map((function(t){return t.props}))),h.canUseDOM?e(u):n&&(u=n(u))}var h=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=u;return u=void 0,l=[],t};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){l.push(this),c()},a.componentDidUpdate=function(){c()},a.componentWillUnmount=function(){var t=l.indexOf(this);l.splice(t,1),c()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(h,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(r)+")"),a(h,"canUseDOM",s),h}}},7603:function(t){var e,n;e=this,n=function(){var t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function e(e){return e.match(t)||[]}function n(t){return{language:(t=e(t))[1]||"",extlang:t[2]||"",script:t[3]||"",region:t[4]||""}}function r(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})}function i(t,i,o){function a(n){return e(n)[t]||""}r(a,"pattern",i),r(n,o,a)}return i(1,/^[a-zA-Z]{2,3}$/,"language"),i(2,/^[a-zA-Z]{3}$/,"extlang"),i(3,/^[a-zA-Z]{4}$/,"script"),i(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),r(n,"split",(function(t){return e(t).filter((function(t,e){return t&&e}))})),n},t.exports?t.exports=n():e.subtag=n()},4396:function(t,e,n){"use strict";var r=n(2244);t.exports=r,"undefined"!=typeof window&&(window.Suggestions=r)},5849:function(t){"use strict";var e=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};e.prototype.show=function(){this.element.style.display="block"},e.prototype.hide=function(){this.element.style.display="none"},e.prototype.add=function(t){this.items.push(t)},e.prototype.clear=function(){this.items=[],this.active=0},e.prototype.isEmpty=function(){return!this.items.length},e.prototype.isVisible=function(){return"block"===this.element.style.display},e.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},e.prototype.drawItem=function(t,e){var n=document.createElement("li"),r=document.createElement("a");e&&(n.className+=" active"),r.innerHTML=t.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))},e.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},e.prototype.move=function(t){this.active=t,this.draw()},e.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},e.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},e.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=e},2244:function(t,e,n){"use strict";var r=n(6297),i=n(8261),o=n(5849),a=function(t,e,n){return n=n||{},this.options=r({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(t){this.handleKeyUp(t.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout((function(){e.handleInputChange(t.target.value)}),100)}},a.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(t){this.data=t,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(t){return t=t.toLowerCase()},a.prototype.match=function(t,e){return t.indexOf(e)>-1},a.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};t(this.options.filter?i.filter(this.query,this.data,e).map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this)):this.data.map(function(t){return{original:t,string:this.render(t)}}.bind(this)))},a.prototype.getItemValue=function(t){return t},a.prototype.render=function(t,e){if(e)return e;for(var n=t.original?this.getItemValue(t.original):this.getItemValue(t),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n},a.prototype.renderError=function(t){this.list.drawError(t)},t.exports=a},6297:function(t){t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)e.call(r,i)&&(t[i]=r[i])}return t};var e=Object.prototype.hasOwnProperty},5438:function(t,e,n){var r=n(2109),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,l=0;s<u;)l<(n=o(arguments[s++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*a(i)}})},7507:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Na}});var r,i,o,a,s=n(7294),u=n(5734),l=n(5697),c=n.n(l),h=n(4839),p=n.n(h),f=n(2993),d=n.n(f),v=n(6494),g=n.n(v),m="bodyAttributes",y="htmlAttributes",b="titleAttributes",_={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},w=(Object.keys(_).map((function(t){return _[t]})),"charset"),x="cssText",E="href",k="http-equiv",S="innerHTML",M="itemprop",C="name",P="property",T="rel",O="src",L="target",j={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},R="defaultTitle",A="defer",z="encodeSpecialCharacters",I="onChangeClientState",D="titleTemplate",N=Object.keys(j).reduce((function(t,e){return t[j[e]]=e,t}),{}),Z=[_.NOSCRIPT,_.SCRIPT,_.STYLE],F="data-react-helmet",B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},W=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},G=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===e?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Y=function(t){var e=J(t,_.TITLE),n=J(t,D);if(n&&e)return n.replace(/%s/g,(function(){return Array.isArray(e)?e.join(""):e}));var r=J(t,R);return e||r||void 0},X=function(t){return J(t,I)||function(){}},K=function(t,e){return e.filter((function(e){return void 0!==e[t]})).map((function(e){return e[t]})).reduce((function(t,e){return V({},t,e)}),{})},Q=function(t,e){return e.filter((function(t){return void 0!==t[_.BASE]})).map((function(t){return t[_.BASE]})).reverse().reduce((function(e,n){if(!e.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==t.indexOf(o)&&n[o])return e.concat(n)}return e}),[])},$=function(t,e,n){var r={};return n.filter((function(e){return!!Array.isArray(e[t])||(void 0!==e[t]&&it("Helmet: "+t+' should be of type "Array". Instead found type "'+B(e[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(t,n){var i={};n.filter((function(t){for(var n=void 0,o=Object.keys(t),a=0;a<o.length;a++){var s=o[a],u=s.toLowerCase();-1===e.indexOf(u)||n===T&&"canonical"===t[n].toLowerCase()||u===T&&"stylesheet"===t[u].toLowerCase()||(n=u),-1===e.indexOf(s)||s!==S&&s!==x&&s!==M||(n=s)}if(!n||!t[n])return!1;var l=t[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(e){return t.push(e)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=g()({},r[s],i[s]);r[s]=u}return t}),[]).reverse()},J=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.hasOwnProperty(e))return r[e]}return null},tt=(r=Date.now(),function(t){var e=Date.now();e-r>16?(r=e,t(e)):setTimeout((function(){tt(t)}),0)}),et=function(t){return clearTimeout(t)},nt="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||tt:n.g.requestAnimationFrame||tt,rt="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||et:n.g.cancelAnimationFrame||et,it=function(t){return console&&"function"==typeof console.warn&&console.warn(t)},ot=null,at=function(t,e){var n=t.baseTag,r=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,s=t.noscriptTags,u=t.onChangeClientState,l=t.scriptTags,c=t.styleTags,h=t.title,p=t.titleAttributes;lt(_.BODY,r),lt(_.HTML,i),ut(h,p);var f={baseTag:ct(_.BASE,n),linkTags:ct(_.LINK,o),metaTags:ct(_.META,a),noscriptTags:ct(_.NOSCRIPT,s),scriptTags:ct(_.SCRIPT,l),styleTags:ct(_.STYLE,c)},d={},v={};Object.keys(f).forEach((function(t){var e=f[t],n=e.newTags,r=e.oldTags;n.length&&(d[t]=n),r.length&&(v[t]=f[t].oldTags)})),e&&e(),u(t,d,v)},st=function(t){return Array.isArray(t)?t.join(""):t},ut=function(t,e){void 0!==t&&document.title!==t&&(document.title=st(t)),lt(_.TITLE,e)},lt=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute(F),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(e),s=0;s<a.length;s++){var u=a[s],l=e[u]||"";n.getAttribute(u)!==l&&n.setAttribute(u,l),-1===i.indexOf(u)&&i.push(u);var c=o.indexOf(u);-1!==c&&o.splice(c,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(F):n.getAttribute(F)!==a.join(",")&&n.setAttribute(F,a.join(","))}},ct=function(t,e){var n=document.head||document.querySelector(_.HEAD),r=n.querySelectorAll(t+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return e&&e.length&&e.forEach((function(e){var n=document.createElement(t);for(var r in e)if(e.hasOwnProperty(r))if(r===S)n.innerHTML=e.innerHTML;else if(r===x)n.styleSheet?n.styleSheet.cssText=e.cssText:n.appendChild(document.createTextNode(e.cssText));else{var s=void 0===e[r]?"":e[r];n.setAttribute(r,s)}n.setAttribute(F,"true"),i.some((function(t,e){return a=e,n.isEqualNode(t)}))?i.splice(a,1):o.push(n)})),i.forEach((function(t){return t.parentNode.removeChild(t)})),o.forEach((function(t){return n.appendChild(t)})),{oldTags:i,newTags:o}},ht=function(t){return Object.keys(t).reduce((function(e,n){var r=void 0!==t[n]?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r}),"")},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[j[n]||n]=t[n],e}),e)},ft=function(t,e,n){switch(t){case _.TITLE:return{toComponent:function(){return t=e.title,n=e.titleAttributes,(r={key:t})[F]=!0,i=pt(n,r),[s.createElement(_.TITLE,i,t)];var t,n,r,i},toString:function(){return function(t,e,n,r){var i=ht(n),o=st(e);return i?"<"+t+' data-react-helmet="true" '+i+">"+G(o,r)+"</"+t+">":"<"+t+' data-react-helmet="true">'+G(o,r)+"</"+t+">"}(t,e.title,e.titleAttributes,n)}};case m:case y:return{toComponent:function(){return pt(e)},toString:function(){return ht(e)}};default:return{toComponent:function(){return function(t,e){return e.map((function(e,n){var r,i=((r={key:n})[F]=!0,r);return Object.keys(e).forEach((function(t){var n=j[t]||t;if(n===S||n===x){var r=e.innerHTML||e.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=e[t]})),s.createElement(t,i)}))}(t,e)},toString:function(){return function(t,e,n){return e.reduce((function(e,r){var i=Object.keys(r).filter((function(t){return!(t===S||t===x)})).reduce((function(t,e){var i=void 0===r[e]?e:e+'="'+G(r[e],n)+'"';return t?t+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===Z.indexOf(t);return e+"<"+t+' data-react-helmet="true" '+i+(a?"/>":">"+o+"</"+t+">")}),"")}(t,e,n)}}}},dt=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,s=t.noscriptTags,u=t.scriptTags,l=t.styleTags,c=t.title,h=void 0===c?"":c,p=t.titleAttributes;return{base:ft(_.BASE,e,r),bodyAttributes:ft(m,n,r),htmlAttributes:ft(y,i,r),link:ft(_.LINK,o,r),meta:ft(_.META,a,r),noscript:ft(_.NOSCRIPT,s,r),script:ft(_.SCRIPT,u,r),style:ft(_.STYLE,l,r),title:ft(_.TITLE,{title:h,titleAttributes:p},r)}},vt=p()((function(t){return{baseTag:Q([E,L],t),bodyAttributes:K(m,t),defer:J(t,A),encode:J(t,z),htmlAttributes:K(y,t),linkTags:$(_.LINK,[T,E],t),metaTags:$(_.META,[C,w,k,P,M],t),noscriptTags:$(_.NOSCRIPT,[S],t),onChangeClientState:X(t),scriptTags:$(_.SCRIPT,[O,S],t),styleTags:$(_.STYLE,[x],t),title:Y(t),titleAttributes:K(b,t)}}),(function(t){ot&&rt(ot),t.defer?ot=nt((function(){at(t,(function(){ot=null}))})):(at(t),ot=null)}),dt)((function(){return null})),gt=(i=vt,a=o=function(t){function e(){return q(this,e),H(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return!d()(this.props,t)},e.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case _.SCRIPT:case _.NOSCRIPT:return{innerHTML:e};case _.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},e.prototype.flattenArrayTypeChildren=function(t){var e,n=t.child,r=t.arrayTypeChildren,i=t.newChildProps,o=t.nestedChildren;return V({},r,((e={})[n.type]=[].concat(r[n.type]||[],[V({},i,this.mapNestedChildrenToProps(n,o))]),e))},e.prototype.mapObjectTypeChildren=function(t){var e,n,r=t.child,i=t.newProps,o=t.newChildProps,a=t.nestedChildren;switch(r.type){case _.TITLE:return V({},i,((e={})[r.type]=a,e.titleAttributes=V({},o),e));case _.BODY:return V({},i,{bodyAttributes:V({},o)});case _.HTML:return V({},i,{htmlAttributes:V({},o)})}return V({},i,((n={})[r.type]=V({},o),n))},e.prototype.mapArrayTypeChildrenToProps=function(t,e){var n=V({},e);return Object.keys(t).forEach((function(e){var r;n=V({},n,((r={})[e]=t[e],r))})),n},e.prototype.warnOnInvalidChildren=function(t,e){return!0},e.prototype.mapChildrenToProps=function(t,e){var n=this,r={};return s.Children.forEach(t,(function(t){if(t&&t.props){var i=t.props,o=i.children,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[N[n]||n]=t[n],e}),e)}(U(i,["children"]));switch(n.warnOnInvalidChildren(t,o),t.type){case _.LINK:case _.META:case _.NOSCRIPT:case _.SCRIPT:case _.STYLE:r=n.flattenArrayTypeChildren({child:t,arrayTypeChildren:r,newChildProps:a,nestedChildren:o});break;default:e=n.mapObjectTypeChildren({child:t,newProps:e,newChildProps:a,nestedChildren:o})}}})),e=this.mapArrayTypeChildrenToProps(r,e)},e.prototype.render=function(){var t=this.props,e=t.children,n=U(t,["children"]),r=V({},n);return e&&(r=this.mapChildrenToProps(e,r)),s.createElement(i,r)},W(e,null,[{key:"canUseDOM",set:function(t){i.canUseDOM=t}}]),e}(s.Component),o.propTypes={base:c().object,bodyAttributes:c().object,children:c().oneOfType([c().arrayOf(c().node),c().node]),defaultTitle:c().string,defer:c().bool,encodeSpecialCharacters:c().bool,htmlAttributes:c().object,link:c().arrayOf(c().object),meta:c().arrayOf(c().object),noscript:c().arrayOf(c().object),onChangeClientState:c().func,script:c().arrayOf(c().object),style:c().arrayOf(c().object),title:c().string,titleAttributes:c().object,titleTemplate:c().string},o.defaultProps={defer:!0,encodeSpecialCharacters:!0},o.peek=i.peek,o.rewind=function(){var t=i.rewind();return t||(t=dt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},a);gt.renderStatic=gt.rewind;var mt=n(9312),yt=function(t){var e=t.children;return(0,u.tZ)(s.Fragment,null,(0,u.tZ)(u.xB,{styles:(0,u.iv)("@import url(\"//hello.myfonts.net/count/37908e\");{}@font-face{font-family:'Swift Neue LT Pro';src:url('fonts/SwiftNeueLTPro.eot') format('eot');src:local('Swift Neue LT Pro'),url('fonts/SwiftNeueLTPro.eot?#iefix') format('embedded-opentype'),url('fonts/SwiftNeueLTPro.woff2') format('woff2'),url('fonts/SwiftNeueLTPro.woff') format('woff'),url('fonts/SwiftNeueLTPro.ttf') format('truetype');font-style:normal;font-weight:normal;}@font-face{font-family:'Calibre';src:url('./fonts/Calibre-Regular.eot');src:local('Calibre'),local('Calibre-Regular'),url('./fonts/Calibre-Regular.eot?#iefix') format('embedded-opentype'),url('./fonts/Calibre-Regular.woff2') format('woff2'),url('./fonts/Calibre-Regular.woff') format('woff'),url('./fonts/Calibre-Regular.ttf') format('truetype');font-weight:normal;font-style:normal;}html{font-size:10px;height:100%;margin:0;}body{color:",mt.lB.fontGray,";font-family:",mt.Rq.swiftNeueLtPro,";font-size:1.6rem;height:100%;line-height:2.4rem;margin:0;}#___gatsby,#gatsby-focus-wrapper{height:100%;}","")}),e)},bt=n(2982),_t=n(5444),wt=(0,s.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),xt=function(t,e,n){var r=n.get(t);return r?r(e):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function Et(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var kt=(0,s.forwardRef)((function(t,e){var n=t.color,r=t.size,i=t.weight,o=t.mirrored,a=t.children,u=t.renderPath,l=Et(t,["color","size","weight","mirrored","children","renderPath"]),c=(0,s.useContext)(wt),h=c.color,p=c.size,f=c.weight,d=c.mirrored,v=Et(c,["color","size","weight","mirrored"]);return s.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:null!=r?r:p,height:null!=r?r:p,fill:null!=n?n:h,viewBox:"0 0 256 256",transform:o||d?"scale(-1, 1)":void 0},v,l),a,s.createElement("rect",{width:"256",height:"256",fill:"none"}),u(null!=i?i:f,null!=n?n:h))}));kt.displayName="IconBase";var St=kt,Mt=new Map;Mt.set("bold",(function(t){return s.createElement(s.Fragment,null,s.createElement("line",{x1:"128",y1:"176",x2:"128",y2:"240",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("line",{x1:"64",y1:"40",x2:"192",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("line",{x1:"40",y1:"176",x2:"216",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("line",{x1:"56",y1:"176",x2:"80",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("line",{x1:"176",y1:"40",x2:"200",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),Mt.set("duotone",(function(t){return s.createElement(s.Fragment,null,s.createElement("polygon",{points:"56 176 80 40 176 40 200 176 56 176",opacity:"0.2"}),s.createElement("line",{x1:"128",y1:"176",x2:"128",y2:"240",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"64",y1:"40",x2:"192",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"40",y1:"176",x2:"216",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"56",y1:"176",x2:"80",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"176",y1:"40",x2:"200",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),Mt.set("fill",(function(){return s.createElement(s.Fragment,null,s.createElement("path",{d:"M224,176a8.00008,8.00008,0,0,1-8,8H200.02393l-.0337.00146L199.95752,184H136v56a8,8,0,0,1-16,0V184H56.04248l-.03271.00146L55.97607,184H40a8,8,0,0,1,0-16h9.28857L70.46484,48H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16h-6.46484l21.17627,120H216A8.00008,8.00008,0,0,1,224,176Z"}))})),Mt.set("light",(function(t){return s.createElement(s.Fragment,null,s.createElement("line",{x1:"128",y1:"176",x2:"128",y2:"240",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("line",{x1:"64",y1:"40",x2:"192",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("line",{x1:"40",y1:"176",x2:"216",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("line",{x1:"56",y1:"176",x2:"80",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("line",{x1:"176",y1:"40",x2:"200",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),Mt.set("thin",(function(t){return s.createElement(s.Fragment,null,s.createElement("line",{x1:"128",y1:"176",x2:"128",y2:"240",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("line",{x1:"64",y1:"40",x2:"192",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("line",{x1:"40",y1:"176",x2:"216",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("line",{x1:"56",y1:"176",x2:"80",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("line",{x1:"176",y1:"40",x2:"200",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),Mt.set("regular",(function(t){return s.createElement(s.Fragment,null,s.createElement("line",{x1:"128",y1:"176",x2:"128",y2:"240",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"64",y1:"40",x2:"192",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"40",y1:"176",x2:"216",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"56",y1:"176",x2:"80",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("line",{x1:"176",y1:"40",x2:"200",y2:"176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var Ct=function(t,e){return xt(t,e,Mt)},Pt=(0,s.forwardRef)((function(t,e){return s.createElement(St,Object.assign({ref:e},t,{renderPath:Ct}))}));Pt.displayName="PushPinSimple";var Tt=Pt;var Ot=(0,u.iv)("background:",mt.lB.warmGrayTransparent,";margin:.5rem 0;padding:1.5rem 2rem;",""),Lt=(0,u.iv)("border-right:10px solid ",mt.lB.quintile1,";",""),jt=(0,u.iv)("border-right:10px solid ",mt.lB.quintile2,";",""),Rt=(0,u.iv)("border-right:10px solid ",mt.lB.quintile3,";",""),At=(0,u.iv)("border-right:10px solid ",mt.lB.quintile4,";",""),zt=(0,u.iv)("border-right:10px solid ",mt.lB.quintile5,";",""),It=(0,u.iv)("color:",mt.lB.indigo,";font-family:",mt.Rq.calibre,";font-size:2rem;font-weight:600;margin:0 0 1rem 0;text-transform:lowercase;:first-letter,:first-line{text-transform:capitalize;}",""),Dt={name:"rocyp7",styles:"background:none;border:none;float:right;cursor:pointer"},Nt=(0,u.iv)("padding-left:0;list-style:none;color:",mt.lB.fontGray,";",""),Zt={name:"1k74pxq",styles:"font-weight:600;padding-right:2px;color:black"},Ft={name:"1m803vv",styles:"margin-left:1.2em"};function Bt(t){return t.toFixed(2)}function qt(t){var e=t%10,n=t%100;return 1==e&&11!=n?t+"st":2==e&&12!=n?t+"nd":3==e&&13!=n?t+"rd":t+"th"}var Wt=function(t){t.data;var e=t.node,n=t.dispatch,r=(t.selectedMuni,t.highlightedSites),i=(0,s.useState)(!1),o=i[0],a=i[1],l=(0,s.useState)(!1),c=l[0],h=l[1];return(0,s.useEffect)((function(){r.includes(+e.site_oid)?(a(!0),h(!0)):(a(!1),h(!1))}),[]),(0,u.tZ)("li",{key:e.site_oid,css:[Ot,"5"===e.Quintile_Category?zt:"4"===e.Quintile_Category?At:"3"===e.Quintile_Category?Rt:"2"===e.Quintile_Category?jt:"1"===e.Quintile_Category?Lt:"","",""],onMouseEnter:function(t){o||(a(!o),n({type:"addSite",toggledSite:+e.site_oid}))},onMouseLeave:function(t){o&&!c&&(a(!o),n({type:"addSite",toggledSite:+e.site_oid}))}},(0,u.tZ)("button",{css:Dt,onClick:function(){o&&c?(h(!1),a(!1),n({type:"addSite",toggledSite:+e.site_oid})):o&&!c?h(!0):o||c||(h(!0),a(!0),n({type:"addSite",toggledSite:+e.site_oid}))}},(0,u.tZ)(Tt,{size:25,weight:"fill",color:o?mt.lB.gold:mt.lB.fontGray})),(0,u.tZ)("h1",{css:It},e.parcel_addr),(0,u.tZ)("h1",{css:It},e.municipal," site ",e.site_oid),(0,u.tZ)("ul",{css:Nt},(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},Bt(+e.Growth_Potential_Score)),"/1 ",(0,u.tZ)("span",{css:Ft},"Growth Potential Score")),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},Bt(+e.Healthy_Communities_Score)),"/1 ",(0,u.tZ)("span",{css:Ft},"Healthy Communities Score")),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},Bt(+e.Healthy_Watersheds_Score)),"/1 ",(0,u.tZ)("span",{css:Ft},"Healthy Watersheds Score")),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},Bt(+e.Travel_Choices_Score)),"/1 ",(0,u.tZ)("span",{css:Ft},"Travel Choices Score")),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},Bt(+e.Overall_Score)),"/4 ",(0,u.tZ)("span",{css:Ft},"Overall Score")),(0,u.tZ)("br",null),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},qt(+e.municipal_rank))," in Municipality"),(0,u.tZ)("li",null,(0,u.tZ)("span",{css:Zt},qt(+e.regional_rank)),"/3037 in the Region")))};var Vt=(0,u.iv)("width:45rem;background:",mt.lB.warmGrayTransparent,";margin:4vh 2vw;padding:1.5rem 2rem;position:absolute;z-index:1;right:0;",""),Ut=(0,u.iv)("color:",mt.lB.indigo,";font-family:",mt.Rq.calibre,";font-size:2rem;font-weight:600;margin:0 0 1rem 0;",""),Ht={name:"15o74gv",styles:"padding-left:0;list-style:none;color:black"};function Gt(t,e){var n=[],r=0,i=0;return t.reduce((function(t,n){return n.municipal===e&&t.push(parseFloat(n.Site_Tax_Revenue_Change)),t}),n),n.length>0&&(r=0,i=0,n.forEach((function(t){r+=t})),i=r/n.length),[n.length,r,i]}function Yt(t){return t.toFixed(0)}function Xt(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Kt=function(t){var e=t.data,n=(t.node,t.selectedMuni),r=(t.highlightedSites,Gt(e,n)[0]),i=Gt(e,n)[1],o=Gt(e,n)[2];return(0,u.tZ)("div",{css:Vt},(0,u.tZ)("p",{css:Ut},"Suitability Analysis of Identified Sites:",(0,u.tZ)("br",null),n),(0,u.tZ)("ul",{css:Ht},(0,u.tZ)("li",null,"Tax Revenue Differential: $",Xt(Yt(i))),(0,u.tZ)("li",null,"Average Tax Revenue Differential Per Site: $",Xt(Yt(o))),(0,u.tZ)("li",null,"Quantity of Sites: ",r)))},Qt=new Map;Qt.set("bold",(function(t){return s.createElement(s.Fragment,null,s.createElement("circle",{cx:"128.00146",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("polyline",{points:"120.001 120 128.001 120 128.001 176 136.001 176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),s.createElement("circle",{cx:"128",cy:"80",r:"16"}))})),Qt.set("duotone",(function(t){return s.createElement(s.Fragment,null,s.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),s.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("polyline",{points:"120 120 128 120 128 176 136 176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("circle",{cx:"128",cy:"84",r:"12"}))})),Qt.set("fill",(function(){return s.createElement(s.Fragment,null,s.createElement("path",{d:"M128.00146,24a104,104,0,1,0,104,104A104.12041,104.12041,0,0,0,128.00146,24Zm-.001,48a12,12,0,1,1-12,12A12,12,0,0,1,128.00049,72Zm8.001,112h-8a7.99541,7.99541,0,0,1-8-8V128a8,8,0,0,1,0-16h8a7.99539,7.99539,0,0,1,8,8v48a8,8,0,0,1,0,16Z"}))})),Qt.set("light",(function(t){return s.createElement(s.Fragment,null,s.createElement("circle",{cx:"128.00098",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("polyline",{points:"120 120 128.001 120 128 176 136 176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),s.createElement("circle",{cx:"128",cy:"84",r:"10"}))})),Qt.set("thin",(function(t){return s.createElement(s.Fragment,null,s.createElement("circle",{cx:"128.00049",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("polyline",{points:"120 120 128 120 128 176 136 176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),s.createElement("circle",{cx:"128",cy:"84",r:"8"}))})),Qt.set("regular",(function(t){return s.createElement(s.Fragment,null,s.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("polyline",{points:"120 120 128 120 128 176 136 176",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),s.createElement("circle",{cx:"128",cy:"84",r:"12"}))}));var $t=function(t,e){return xt(t,e,Qt)},Jt=(0,s.forwardRef)((function(t,e){return s.createElement(St,Object.assign({ref:e},t,{renderPath:$t}))}));Jt.displayName="Info";var te=Jt;var ee=(0,u.iv)("width:auto;height:auto;background:",mt.lB.warmGrayTransparent,";margin:25vh 2vw;padding:1.5rem 2rem 1.8rem;position:absolute;z-index:1;right:0;",""),ne=(0,u.iv)("color:",mt.lB.indigo,";font-family:",mt.Rq.calibre,";font-size:2rem;font-weight:600;margin:0 0 1rem 0;",""),re=(0,u.iv)("padding-left:0;list-style:none;color:",mt.lB.fontGray,";",""),ie={name:"zjik7",styles:"display:flex"},oe=(0,u.iv)("display:inline-block;font-size:100px;text-align:center;margin-right:1.2rem;color:",mt.lB.quintile5,";",""),ae=(0,u.iv)("display:inline-block;font-size:100px;text-align:center;margin-right:1.2rem;color:",mt.lB.quintile4,";",""),se=(0,u.iv)("display:inline-block;font-size:100px;text-align:center;margin-right:1.2rem;color:",mt.lB.quintile3,";",""),ue=(0,u.iv)("display:inline-block;font-size:100px;text-align:center;margin-right:1.2rem;color:",mt.lB.quintile2,";",""),le=(0,u.iv)("display:inline-block;font-size:100px;text-align:center;margin-right:1.2rem;color:",mt.lB.quintile1,";",""),ce=(0,u.iv)("display:flex;align-items:center;font-family:",mt.Rq.calibre,";text-decoration:none;color:",mt.lB.fontGray,";transition:0.2s ease-in-out;&:hover{color:",mt.lB.sky,";}",""),he={name:"xfph0z",styles:"padding-right:3px"},pe=function(){return(0,u.tZ)("div",{css:ee},(0,u.tZ)("p",{css:ne},"Quintiles"),(0,u.tZ)("p",null,"By Overall Score"),(0,u.tZ)("ul",{css:re},(0,u.tZ)("li",{css:ie},(0,u.tZ)("span",{css:oe},"·"),"First",(0,u.tZ)("br",null),"3.25 - 3.96"),(0,u.tZ)("li",{css:ie},(0,u.tZ)("span",{css:ae},"·"),"Second",(0,u.tZ)("br",null),"3.05 - 3.25"),(0,u.tZ)("li",{css:ie},(0,u.tZ)("span",{css:se},"·"),"Third",(0,u.tZ)("br",null),"2.88 - 3.05"),(0,u.tZ)("li",{css:ie},(0,u.tZ)("span",{css:ue},"·"),"Fourth",(0,u.tZ)("br",null),"2.67 - 2.88"),(0,u.tZ)("li",{css:ie},(0,u.tZ)("span",{css:le},"·"),"Fifth",(0,u.tZ)("br",null),"1.84 - 2.67")),(0,u.tZ)(_t.rU,{css:ce,to:"/about"},(0,u.tZ)(te,{size:20,css:he}),"More Info"))};var fe={name:"17du28l",styles:".mapboxgl-ctrl-geocoder{max-width:45rem;width:45rem;margin:4vh 2vw 2vh;z-index:5;}"},de={name:"wbzt01",styles:"display:flex;flex-direction:column;width:45rem"},ve={name:"r156nr",styles:"padding-left:0;list-style:none;max-height:86vh;width:45rem;overflow-y:scroll;padding-right:1rem;z-index:1;margin:0 2vw 4vh"};var ge=function(t){var e=t.data,n=t.selectedMuni,r=t.node,i=t.containerRef,o=t.highlightedSites,a=t.dispatch;return(0,u.tZ)("div",{css:de},(0,u.tZ)("div",{ref:i,css:fe}),n?function(t,e,n,r){if(n)return(0,u.tZ)(Kt,{data:t,node:e,selectedMuni:n,highlightedSites:r})}(e,r,n,o):""," ",(0,u.tZ)(pe,null),(0,u.tZ)("ul",{css:ve},n?function(t,e,n,r){if(e)return t.sort((function(t,e){return e.Quintile_Category-t.Quintile_Category})),t.reduce((function(i,o){return o.municipal===e&&i.push((0,u.tZ)(Wt,{data:t,node:o,key:o.site_oid,dispatch:n,selectedMuni:e,highlightedSites:r})),i}),[])}(e,n,a,o):""))},me=n(7462);function ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),t}var xe=n(9611);function Ee(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,xe.Z)(t,e)}var ke=n(8);function Se(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return be(t)}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){Ce(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oe(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var je=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Re(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=Oe(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(a){r.e(a)}finally{r.f()}var o=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=Te({},t)).interactive,e){delete(r=r||Te({},t)).ref;var i,o=Oe(je);try{for(o.s();!(i=o.n()).done;){var s=i.value;s in e&&(r[s]=e[s])}}catch(a){o.e(a)}finally{o.f()}}return r||t}));return Te(Te({},t),{},{layers:o})}var Ae=n(181);function ze(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||(0,Ae.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(5438);var Ie=1e-6,De="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function Ne(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Ze(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Fe,Be;Fe=new De(4),De!=Float32Array&&(Fe[0]=0,Fe[1]=0,Fe[2]=0,Fe[3]=0),Be=Fe;function qe(t,e){var n=Ze([],e,t);return Ne(n,n,1/n[3]),n}function We(t,e){var n=t%e;return n<0?e+n:n}function Ve(t,e,n){return n*e+(1-n)*t}function Ue(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,x=r*l-o*s,E=i*l-o*u,k=c*v-h*d,S=c*g-p*d,M=c*m-f*d,C=h*g-p*v,P=h*m-f*v,T=p*m-f*g,O=y*T-b*P+_*C+w*M-x*S+E*k;return O?(O=1/O,t[0]=(s*T-u*P+l*C)*O,t[1]=(i*P-r*T-o*C)*O,t[2]=(v*E-g*x+m*w)*O,t[3]=(p*x-h*E-f*w)*O,t[4]=(u*M-a*T-l*S)*O,t[5]=(n*T-i*M+o*S)*O,t[6]=(g*_-d*E-m*b)*O,t[7]=(c*E-p*_+f*b)*O,t[8]=(a*P-s*M+l*k)*O,t[9]=(r*M-n*P-o*k)*O,t[10]=(d*x-v*_+m*y)*O,t[11]=(h*_-c*x-f*y)*O,t[12]=(s*S-a*C-u*k)*O,t[13]=(n*C-r*S+i*k)*O,t[14]=(v*b-d*w-g*y)*O,t[15]=(c*w-h*b+p*y)*O,t):null}function He(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],_=n[1],w=n[2],x=n[3];return t[0]=b*r+_*s+w*h+x*v,t[1]=b*i+_*u+w*p+x*g,t[2]=b*o+_*l+w*f+x*m,t[3]=b*a+_*c+w*d+x*y,b=n[4],_=n[5],w=n[6],x=n[7],t[4]=b*r+_*s+w*h+x*v,t[5]=b*i+_*u+w*p+x*g,t[6]=b*o+_*l+w*f+x*m,t[7]=b*a+_*c+w*d+x*y,b=n[8],_=n[9],w=n[10],x=n[11],t[8]=b*r+_*s+w*h+x*v,t[9]=b*i+_*u+w*p+x*g,t[10]=b*o+_*l+w*f+x*m,t[11]=b*a+_*c+w*d+x*y,b=n[12],_=n[13],w=n[14],x=n[15],t[12]=b*r+_*s+w*h+x*v,t[13]=b*i+_*u+w*p+x*g,t[14]=b*o+_*l+w*f+x*m,t[15]=b*a+_*c+w*d+x*y,t}function Ge(t,e,n){var r,i,o,a,s,u,l,c,h,p,f,d,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=r*v+s*g+h*m+e[12],t[13]=i*v+u*g+p*m+e[13],t[14]=o*v+l*g+f*m+e[14],t[15]=a*v+c*g+d*m+e[15]),t}function Ye(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Xe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+p*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=p*i-u*r,t}function Ke(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+p*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=p*i-u*r,t}function Qe(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function $e(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],v=t[13],g=t[14],m=t[15],y=e[0],b=e[1],_=e[2],w=e[3],x=e[4],E=e[5],k=e[6],S=e[7],M=e[8],C=e[9],P=e[10],T=e[11],O=e[12],L=e[13],j=e[14],R=e[15];return Math.abs(n-y)<=Ie*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=Ie*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=Ie*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=Ie*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=Ie*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-E)<=Ie*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-k)<=Ie*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-S)<=Ie*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-M)<=Ie*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-C)<=Ie*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(p-P)<=Ie*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-T)<=Ie*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-O)<=Ie*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(v-L)<=Ie*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(g-j)<=Ie*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(m-R)<=Ie*Math.max(1,Math.abs(m),Math.abs(R))}function Je(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function tn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function en(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function nn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function rn(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var on=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new De(2);return De!=Float32Array&&(t[0]=0,t[1]=0),t}()}();function an(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}!function(){var t=function(){var t=new De(3);return De!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function sn(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}var un=Math.PI,ln=un/4,cn=un/180,hn=180/un,pn=512;function fn(t){return Math.pow(2,t)}function dn(t){return Math.log2(t)}function vn(t){var e=ze(t,2),n=e[0],r=e[1];sn(Number.isFinite(n)),sn(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*cn;return[pn*(n*cn+un)/(2*un),pn*(un+Math.log(Math.tan(ln+.5*i)))/(2*un)]}function gn(t){var e=ze(t,2),n=e[0],r=e[1],i=n/pn*(2*un)-un,o=2*(Math.atan(Math.exp(r/pn*(2*un)-un))-ln);return[i*hn,o*hn]}function mn(t){var e=t.latitude,n=t.longitude,r=t.highPrecision,i=void 0!==r&&r;sn(Number.isFinite(e)&&Number.isFinite(n));var o={},a=Math.cos(e*cn),s=512/360,u=s/a,l=12790407194604047e-21/a;if(o.unitsPerMeter=[l,l,l],o.metersPerUnit=[1/l,1/l,1/l],o.unitsPerDegree=[s,u,l],o.degreesPerUnit=[.703125,1/u,1/l],i){var c=cn*Math.tan(e*cn)/a,h=s*c/2,p=12790407194604047e-21*c,f=p/u*l;o.unitsPerDegree2=[0,h,p],o.unitsPerMeter2=[f,0,f]}return o}function yn(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.scale,a=t.center,s=void 0===a?null:a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Ge(u,u,[0,0,-i]),Xe(u,u,-n*cn),Ke(u,u,r*cn),Ye(u,u,[o/=e,o,o]),s&&Ge(u,u,an([],s)),u}function bn(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,l=t.farZMultiplier,c=void 0===l?1:l,h=a*cn,p=Math.atan(.5/i),f=Math.sin(p)*i/Math.sin(Math.min(Math.max(Math.PI/2-h-p,.01),Math.PI-.01));return{fov:2*p,aspect:e/n,focalDistance:i,near:u,far:(Math.sin(h)*f+i)*c}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return Qe([],i.fov,i.aspect,i.near,i.far)}function _n(t,e){var n=ze(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return sn(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),qe(e,[r,i,a,1])}function wn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ze(t,3),i=r[0],o=r[1],a=r[2];if(sn(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=qe(e,[i,o,a,1]);return s}var u=qe(e,[i,o,0,1]),l=qe(e,[i,o,1,1]),c=u[2],h=l[2],p=c===h?0:((n||0)-c)/(h-c);return rn([],u,l,p)}function xn(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,l=void 0===u?0:u,c=t.offset,h=void 0===c?[0,0]:c,p=ze(r,2),f=ze(p[0],2),d=f[0],v=f[1],g=ze(p[1],2),m=g[0],y=g[1];if(Number.isFinite(l)){l={top:l,bottom:l,left:l,right:l}}else sn(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var b=new Mn({width:e,height:n,longitude:0,latitude:0,zoom:0}),_=b.project([d,y]),w=b.project([m,v]),x=[Math.max(Math.abs(w[0]-_[0]),o),Math.max(Math.abs(w[1]-_[1]),o)],E=[e-l.left-l.right-2*Math.abs(h[0]),n-l.top-l.bottom-2*Math.abs(h[1])];sn(E[0]>0&&E[1]>0);var k=E[0]/x[0],S=E[1]/x[1],M=(l.right-l.left)/2/k,C=(l.bottom-l.top)/2/S,P=[(w[0]+_[0])/2+M,(w[1]+_[1])/2+C],T=b.unproject(P),O=Math.min(s,b.zoom+Math.log2(Math.abs(Math.min(k,S))));return sn(Number.isFinite(O)),{longitude:T[0],latitude:T[1],zoom:O}}var En=Math.PI/180;function kn(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.width,o=t.height,a=t.unproject,s={targetZ:r},u=a([0,o],s),l=a([i,o],s),c=Math.atan(.5/t.altitude),h=(90-t.pitch)*En;return c>h-.01?(e=Sn(t,0,r),n=Sn(t,i,r)):(e=a([0,0],s),n=a([i,0],s)),[u,l,n,e]}function Sn(t,e,n){var r=t.pixelUnprojectionMatrix,i=qe(r,[e,0,1,1]),o=qe(r,[e,t.height,1,1]),a=gn(rn([],i,o,(n*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a[2]=n,a}var Mn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,s=void 0===a?0:a,u=e.zoom,l=void 0===u?0:u,c=e.pitch,h=void 0===c?0:c,p=e.bearing,f=void 0===p?0:p,d=e.altitude,v=void 0===d?1.5:d,g=e.nearZMultiplier,m=void 0===g?.02:g,y=e.farZMultiplier,b=void 0===y?1.01:y;ye(this,t),n=n||1,r=r||1;var _=fn(l);v=Math.max(.75,v);var w=vn([s,o]);w[2]=0,this.projectionMatrix=bn({width:n,height:r,pitch:h,altitude:v,nearZMultiplier:m,farZMultiplier:b}),this.viewMatrix=yn({height:r,scale:_,center:w,pitch:h,bearing:f,altitude:v}),this.width=n,this.height=r,this.scale=_,this.latitude=o,this.longitude=s,this.zoom=l,this.pitch=h,this.bearing=f,this.altitude=v,this.center=w,this.distanceScales=mn(this),this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return we(t,[{key:"_initMatrices",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];He(i,i,n),He(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ye(o,o,[t/2,-e/2,1]),Ge(o,o,[1,-1,0]),He(o,o,i);var a=Ue([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&$e(e.projectionMatrix,this.projectionMatrix)&&$e(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=_n(i,this.pixelProjectionMatrix),a=ze(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===t.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=void 0===i?void 0:i,a=ze(t,3),s=a[0],u=a[1],l=a[2],c=r?u:this.height-u,h=o&&o*this.distanceScales.unitsPerMeter[2],p=wn([s,c,l],this.pixelUnprojectionMatrix,h),f=this.unprojectPosition(p),d=ze(f,3),v=d[0],g=d[1],m=d[2];return Number.isFinite(l)?[v,g,m]:Number.isFinite(o)?[v,g,o]:[v,g]}},{key:"projectPosition",value:function(t){var e=ze(vn(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=ze(gn(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){return vn(t)}},{key:"unprojectFlat",value:function(t){return gn(t)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=wn(t.pos,this.pixelUnprojectionMatrix),r=Je([],vn(e),nn([],n));return gn(Je([],this.center,r))}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=xn(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,(0,bt.Z)(e.map((function(t){return t[0]})))),r=Math.max.apply(Math,(0,bt.Z)(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,(0,bt.Z)(e.map((function(t){return t[1]}))))],[r,Math.max.apply(Math,(0,bt.Z)(e.map((function(t){return t[1]}))))]]}},{key:"getBoundingRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kn(this,t.z||0)}}]),t}(),Cn=85.05113,Pn=-85.05113;function Tn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return On(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ln=.01,jn=["longitude","latitude","zoom"],Rn={curve:1.414,speed:1.2};function An(t,e,n){var r=(n=Object.assign({},Rn,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],a=fn(i),s=e.zoom,u=[e.longitude,e.latitude],l=fn(s-i),c=vn(o),h=vn(u),p=on([],h,c),f=Math.max(t.width,t.height),d=f/l,v=en(p)*a,g=Math.max(v,Ln),m=r*r,y=(d*d-f*f+m*m*g*g)/(2*f*m*g),b=(d*d-f*f-m*m*g*g)/(2*d*m*g),_=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:i,startCenterXY:c,uDelta:p,w0:f,u1:v,S:(w-_)/r,rho:r,rho2:m,r0:_,r1:w}}function zn(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var r,i,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},function(t){return i(t)}),s=(r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout,function(t){return r(t)}),u=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},l=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;u(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},c=!1,h="",p="animationstart",f="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=document.createElement("fakeelement");if(void 0!==v.style.animationName&&(c=!0),!1===c)for(var g=0;g<f.length;g++)if(void 0!==v.style[f[g]+"AnimationName"]){h="-"+f[g].toLowerCase()+"-",p=d[g],c=!0;break}var m="resizeanim",y="@"+h+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",b=h+"animation: 1ms "+m+"; "}return{addResizeListener:function(n,r){if(o)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var i=n.ownerDocument,a=e.getComputedStyle(n);a&&"static"==a.position&&(n.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(i),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var s=i.createElement("div");s.className="expand-trigger",s.appendChild(i.createElement("div"));var c=i.createElement("div");c.className="contract-trigger",n.__resizeTriggers__.appendChild(s),n.__resizeTriggers__.appendChild(c),n.appendChild(n.__resizeTriggers__),u(n),n.addEventListener("scroll",l,!0),p&&(n.__resizeTriggers__.__animationListener__=function(t){t.animationName==m&&u(n)},n.__resizeTriggers__.addEventListener(p,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(o)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",l,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(p,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}var In=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Dn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Nn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Fn=function(t){function e(){var t,n,r;In(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Zn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,p=o-c-h,f=a-u-l;(!e&&r.state.height!==p||!n&&r.state.width!==f)&&(r.setState({height:o-c-h,width:a-u-l}),i({height:o,width:a}))}},r._setRef=function(t){r._autoSizer=t},Zn(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Dn(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=zn(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,i=t.disableWidth,o=t.style,a=this.state,u=a.height,l=a.width,c={overflow:"visible"},h={},p=!1;return r||(0===u&&(p=!0),c.height=0,h.height=u),i||(0===l&&(p=!0),c.width=0,h.width=l),(0,s.createElement)("div",{className:n,ref:this._setRef,style:Nn({},c,o)},!p&&e(h))}}]),e}(s.PureComponent);Fn.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Bn=Fn,qn="undefined"!=typeof window?window:n.g,Wn=(void 0!==n.g?n.g:window,"undefined"!=typeof document?document:{});var Vn={container:c().object,gl:c().object,mapboxApiAccessToken:c().string,mapboxApiUrl:c().string,attributionControl:c().bool,preserveDrawingBuffer:c().bool,reuseMaps:c().bool,transformRequest:c().func,mapOptions:c().object,mapStyle:c().oneOfType([c().string,c().object]),visible:c().bool,asyncRender:c().bool,onLoad:c().func,onError:c().func,width:c().number,height:c().number,viewState:c().object,longitude:c().number,latitude:c().number,zoom:c().number,bearing:c().number,pitch:c().number,altitude:c().number},Un={container:Wn.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var e=window.location.search.match(/access_token=([^&\/]*)/);t=e&&e[1]}t||"undefined"==typeof process||(t=t||{}.MapboxAccessToken||{}.REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function Hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&c().checkPropTypes(Vn,t,"prop",e)}var Gn=function(){function t(e){var n=this;if(ye(this,t),Ce(this,"mapboxgl",void 0),Ce(this,"props",Un),Ce(this,"_map",null),Ce(this,"width",0),Ce(this,"height",0),Ce(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return we(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;Hn(t=Object.assign({},Un,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||Un.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){Hn(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,u=void 0===s?0:s,l=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===l?1.5:l}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==Wn)try{var e=Wn.createElement("div");e.className="mapboxgl-map",e.style.display="none",Wn.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=Wn.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),Wn.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Ce(Gn,"initialized",!1),Ce(Gn,"propTypes",Vn),Ce(Gn,"defaultProps",Un),Ce(Gn,"savedMap",null);var Yn=n(2974),Xn=n.n(Yn);function Kn(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Qn(t,e){if(t===e)return!0;if(Kn(t)&&Kn(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function $n(t,e,n){return Math.max(e,Math.min(n,t))}function Jn(t,e,n){return Kn(t)?t.map((function(t,r){return Jn(t,e[r],n)})):n*e+(1-n)*t}function tr(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function er(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return nr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rr=function(){function t(){ye(this,t),Ce(this,"propNames",[])}return we(t,[{key:"arePropsEqual",value:function(t,e){var n,r=er(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Qn(t[i],e[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){tr(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),ir={longitude:1,bearing:1};function or(t){return Number.isFinite(t)||Array.isArray(t)}function ar(t,e,n){return function(t){return t in ir}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function sr(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return ur(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ur(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var cr=["longitude","latitude","zoom","bearing","pitch"],hr=["latitude","longitude","zoom","width","height"],pr=["bearing","pitch"],fr={speed:1.2,curve:1.414},dr=function(t){Ee(n,t);var e=lr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ye(this,n),Ce(be(t=e.call(this)),"speed",void 0),Ce(be(t),"propNames",cr),Ce(be(t),"props",void 0),t.props=Object.assign({},fr,r),t}return we(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},o=sr(hr);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],u=e[a];tr(or(s)&&or(u),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=ar(a,s,u)}}catch(d){o.e(d)}finally{o.f()}var l,c=sr(pr);try{for(c.s();!(l=c.n()).done;){var h=l.value,p=t[h]||0,f=e[h]||0;r[h]=p,i[h]=ar(h,p,f)}}catch(d){c.e(d)}finally{c.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=function(t,e,n){var r={},i=An(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=i.startZoom,a=i.startCenterXY,s=i.uDelta,u=i.w0,l=i.u1,c=i.S,h=i.rho,p=i.rho2,f=i.r0;if(l<Ln){var d,v=Tn(jn);try{for(v.s();!(d=v.n()).done;){var g=d.value,m=t[g],y=e[g];r[g]=Ve(m,y,n)}}catch(S){v.e(S)}finally{v.f()}return r}var b=n*c,_=Math.cosh(f)/Math.cosh(f+h*b),w=u*((Math.cosh(f)*Math.tanh(f+h*b)-Math.sinh(f))/p)/l,x=o+dn(1/_),E=tn([],s,w);Je(E,E,a);var k=gn(E);return r.longitude=k[0],r.latitude=k[1],r.zoom=x,r}(t,e,n,this.props),o=sr(pr);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Jn(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},Rn,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=An(t,e,r),l=u.S,c=u.rho,h=1e3*l;return n=Number.isFinite(o)?h/(o/c):h/a,Number.isFinite(s)&&n>s?0:n}(t,e,this.props)),n}}]),n}(rr);function vr(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return gr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var yr=["longitude","latitude","zoom","bearing","pitch"],br=function(t){Ee(n,t);var e=mr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ye(this,n),Ce(be(t=e.call(this)),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||yr,r.around&&(t.around=r.around),t}return we(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new Mn(t).unproject(this.around);Object.assign(r,e,{around:new Mn(e).project(i),aroundLngLat:i})}var o,a=vr(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=t[s],l=e[s];tr(or(u)&&or(l),"".concat(s," must be supplied for transition")),n[s]=u,r[s]=ar(s,u,l)}}catch(c){a.e(c)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},o=vr(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Jn(t[a],e[a],n)}}catch(c){o.e(c)}finally{o.f()}if(e.around){var s=ze(new Mn(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:Jn(t.around,e.around,n)}),2),u=s[0],l=s[1];i.longitude=u,i.latitude=l}return i}}]),n}(rr),_r={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},wr=0,xr=0,Er=1.5,kr=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,o=e.longitude,a=e.zoom,s=e.bearing,u=void 0===s?xr:s,l=e.pitch,c=void 0===l?wr:l,h=e.altitude,p=void 0===h?Er:h,f=e.maxZoom,d=void 0===f?_r.maxZoom:f,v=e.minZoom,g=void 0===v?_r.minZoom:v,m=e.maxPitch,y=void 0===m?_r.maxPitch:m,b=e.minPitch,_=void 0===b?_r.minPitch:b,w=e.transitionDuration,x=e.transitionEasing,E=e.transitionInterpolator,k=e.transitionInterruption,S=e.startPanLngLat,M=e.startZoomLngLat,C=e.startBearing,P=e.startPitch,T=e.startZoom;ye(this,t),Ce(this,"_viewportProps",void 0),Ce(this,"_interactiveState",void 0),tr(Number.isFinite(n),"`width` must be supplied"),tr(Number.isFinite(r),"`height` must be supplied"),tr(Number.isFinite(o),"`longitude` must be supplied"),tr(Number.isFinite(i),"`latitude` must be supplied"),tr(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:u,pitch:c,altitude:p,maxZoom:d,minZoom:g,maxPitch:y,minPitch:_,transitionDuration:w,transitionEasing:x,transitionInterpolator:E,transitionInterruption:k}),this._interactiveState={startPanLngLat:S,startZoomLngLat:M,startBearing:C,startPitch:P,startZoom:T}}return we(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=ze(this._calculateNewLngLat({startPanLngLat:r,pos:e}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;tr(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),tr(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),u=ze(new Mn(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),2),l=u[0],c=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=$n(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=$n(a,o,i),Object.assign(t,function(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,l=void 0===u?0:u;(r<-180||r>180)&&(r=We(r+180,360)-180),(l<-180||l>180)&&(l=We(l+180,360)-180);var c=new Mn({width:e,height:n,longitude:r,latitude:i,zoom:o}),h=c.project([r,Cn])[1],p=c.project([r,Pn])[1],f=0;return p-h<n&&(o+=Math.log2(n/(p-h)),h=(c=new Mn({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,Cn])[1],p=c.project([r,Pn])[1]),h>0?f=h:p<n&&(f=p-n),f&&(i=c.unproject([e/2,n/2+f])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:l}}(t)),t}},{key:"_unproject",value:function(t){var e=new Mn(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new Mn(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return $n(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=$n(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*e}}}]),t}();function Sr(t){return t[0].toLowerCase()+t.slice(1)}var Mr=(0,s.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function Cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cr(Object(n),!0).forEach((function(e){Ce(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var Or="A valid API access token is required to use Mapbox data";var Lr={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},jr=Object.assign({},Gn.propTypes,{width:c().oneOfType([c().number,c().string]),height:c().oneOfType([c().number,c().string]),onResize:c().func,preventStyleDiffing:c().bool,disableTokenWarning:c().bool,visible:c().bool,className:c().string,style:c().object,visibilityConstraints:c().object}),Rr=Object.assign({},Gn.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:_r}),Ar=function(t){Ee(n,t);var e=Tr(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"state",{accessTokenInvalid:!1}),Ce(be(t),"_mapbox",null),Ce(be(t),"_map",null),Ce(be(t),"_mapboxMapRef",(0,s.createRef)()),Ce(be(t),"_mapContainerRef",(0,s.createRef)()),Ce(be(t),"_queryParams",{}),Ce(be(t),"_width",0),Ce(be(t),"_height",0),Ce(be(t),"getMap",(function(){return t._map})),Ce(be(t),"queryRenderedFeatures",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._map.queryRenderedFeatures(e,n)})),Ce(be(t),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||t.state.accessTokenInvalid||(console.error(Or),t.setState({accessTokenInvalid:!0})),t.props.onError(e)})),t}return we(n,[{key:"componentDidMount",value:function(){if(n.supported()){var t=this.props.mapStyle;this._mapbox=new Gn(Object.assign({},this.props,{mapboxgl:Xn(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:Re(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&n&&this._map.setStyle(Re(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return s.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},s.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),s.createElement("div",{key:"text"},"For information on setting up your basemap, read"),s.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=t.height;return this._updateMapSize(n,r),s.createElement(Mr.Consumer,null,(function(t){var i=Pr(Pr({},t),{},{viewport:new Mn(Pr(Pr(Pr({},e.props),e.props.viewState),{},{width:n,height:r})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return s.createElement(Mr.Provider,{value:i},s.createElement("div",{key:"map-overlays",className:"overlays",style:Lr},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:n,height:r}),u=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r;for(var n in e){var r=n.slice(0,3),i=Sr(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(this.props.viewState||this.props,o),l=Object.assign({},Lr,{visibility:u?"inherit":"hidden"});return s.createElement("div",{key:"map-container",style:a,ref:this._mapContainerRef},s.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:l,className:e}),s.createElement(Bn,{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return Xn()&&Xn().supported()}}]),n}(s.PureComponent);Ce(Ar,"propTypes",jr),Ce(Ar,"defaultProps",Rr);var zr=function(){};var Ir=1,Dr=2,Nr=3,Zr=4,Fr={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new br,transitionInterruption:Ir,onTransitionStart:zr,onTransitionInterrupt:zr,onTransitionEnd:zr,onViewportChange:zr,onStateChange:zr},Br=function(){function t(e,n){var r=this;ye(this,t),Ce(this,"props",void 0),Ce(this,"state",void 0),Ce(this,"time",void 0),Ce(this,"_animationFrame",null),Ce(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return we(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Dr?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Zr)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===Nr||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){tr(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,l=(t-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),h=new kr(Object.assign({},this.props,c));this.state.propsInTransition=h.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Ce(Br,"defaultProps",Fr);var qr,Wr,Vr=n(5087),Ur=n.n(Vr),Hr={mousedown:1,mousemove:2,mouseup:4};qr=Ur().PointerEventInput,Wr=qr.prototype.handler,qr.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Wr.call(this,t)},Ur().MouseInput.prototype.handler=function(t){var e=Hr[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var Gr=Ur().Manager,Yr=Ur(),Xr=Yr?[[Yr.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Yr.Rotate,{enable:!1}],[Yr.Pinch,{enable:!1}],[Yr.Swipe,{enable:!1}],[Yr.Pan,{threshold:0,enable:!1}],[Yr.Press,{enable:!1}],[Yr.Tap,{event:"doubletap",taps:2,enable:!1}],[Yr.Tap,{event:"anytap",enable:!1}],[Yr.Tap,{enable:!1}]]:null,Kr={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Qr={doubletap:["tap"]},$r={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Jr=["keydown","keyup"],ti=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],ei=["wheel","mousewheel","DOMMouseScroll"],ni={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},ri={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},ii="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",oi="undefined"!=typeof window?window:n.g,ai=(void 0!==n.g?n.g:window,"undefined"!=typeof document&&document,!1);try{var si={get passive(){return ai=!0,!0}};oi.addEventListener("test",si,si),oi.removeEventListener("test",si,si)}catch(Za){}var ui=-1!==ii.indexOf("firefox"),li=ei,ci="wheel",hi=4.000244140625,pi=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=li.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!ai&&{passive:!1})}))}return we(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===ci&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;oi.WheelEvent&&(ui&&t.deltaMode===oi.WheelEvent.DOM_DELTA_PIXEL&&(e/=oi.devicePixelRatio),t.deltaMode===oi.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%hi==0&&(e=Math.floor(e/hi)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:ci,center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),fi=ti,di="pointermove",vi="pointerover",gi="pointerout",mi="pointerleave",yi=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=fi.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return we(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===di&&(this.enableMoveEvent=e),t===vi&&(this.enableOverEvent=e),t===gi&&(this.enableOutEvent=e),t===mi&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:vi,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:gi,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:mi,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:di,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),bi=Jr,_i="keydown",wi="keyup",xi=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=bi.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=i.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return we(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===_i&&(this.enableDownEvent=e),t===wi&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:_i,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:wi,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),Ei="contextmenu",ki=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return we(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){t===Ei&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:Ei,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}();function Si(t){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Mi={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Ci={srcElement:"root",priority:0},Pi=function(){function t(e){ye(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return we(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Si(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Ci,n):Ci;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),i&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var l=s.length-1;l>=0&&!(s[l].priority>=u.priority);)l--;s.splice(l+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],l=u.type,c=u.handler,h=u.once;if(c(Object.assign({},t,{type:l,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(n[s]),r)break}for(var p=0;p<a.length;p++){var f=a[p],d=f.type,v=f.handler;this.remove(d,v)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=Mi[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===e&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function Ti(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Oi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Li={events:null,recognizers:null,recognizerOptions:{},Manager:Gr,touchAction:"none",tabIndex:0},ji=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ye(this,t),this.options=Object.assign({},Li,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return we(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Xr}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Kr).forEach((function(t){var n=e.manager.get(t);n&&Kr[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new pi(t,this._onOtherEvent,{enable:!1}),this.moveInput=new yi(t,this._onOtherEvent,{enable:!1}),this.keyInput=new xi(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new ki(t,this._onOtherEvent,{enable:!1});var s,u=Ti(this.events);try{for(u.s();!(s=u.n()).done;){var l=ze(s.value,2),c=l[0],h=l[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(c,h.handleEvent))}}catch(Za){u.e(Za)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Qr[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"==typeof t){var o=this.manager,a=this.events,s=ri[t]||t,u=a.get(s);u||(u=new Pi(this),a.set(s,u),u.recognizerName=ni[s]||s,o&&o.on(s,u.handleEvent)),u.add(t,e,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=e,t)this._addEventHandler(l,t[l],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=ri[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=Ti(n.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;if(l.recognizerName===a&&!l.isEmpty()){s=!0;break}}}catch(Za){u.e(Za)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var c in t)this._removeEventHandler(c,t[c])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=$r[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var Ri={transitionDuration:0},Ai={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new br,transitionInterruption:Ir},zi=["wheel"],Ii=["panstart","panmove","panend"],Di=["pinchstart","pinchmove","pinchend","pinchcancel"],Ni=["doubletap"],Zi=["keydown"],Fi=function(){function t(){var e=this;ye(this,t),Ce(this,"events",[]),Ce(this,"mapState",void 0),Ce(this,"onViewportChange",void 0),Ce(this,"onStateChange",void 0),Ce(this,"mapStateProps",void 0),Ce(this,"eventManager",void 0),Ce(this,"scrollZoom",!0),Ce(this,"dragPan",!0),Ce(this,"dragRotate",!0),Ce(this,"doubleClickZoom",!0),Ce(this,"touchZoom",!0),Ce(this,"touchRotate",!1),Ce(this,"keyboard",!0),Ce(this,"_state",{isDragging:!1}),Ce(this,"_events",{}),Ce(this,"_transitionManager",new Br),Ce(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,r,i,o=function(){return i=null,t.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,e)}}(this._onWheelEnd,100)}return we(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new kr(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,u=void 0===s?this.scrollZoom:s,l=t.dragPan,c=void 0===l?this.dragPan:l,h=t.dragRotate,p=void 0===h?this.dragRotate:h,f=t.doubleClickZoom,d=void 0===f?this.doubleClickZoom:f,v=t.touchZoom,g=void 0===v?this.touchZoom:v,m=t.touchRotate,y=void 0===m?this.touchRotate:m,b=t.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=e,this.onStateChange=n;var w=!this.mapStateProps||this.mapStateProps.height!==t.height;this.mapStateProps=t,w&&this.updateViewport(new kr(t)),this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(zi,a&&u),this.toggleEvents(Ii,a&&(c||p)),this.toggleEvents(Di,a&&(g||y)),this.toggleEvents(Ni,a&&d),this.toggleEvents(Zi,a&&_),this.scrollZoom=u,this.dragPan=c,this.dragRotate=p,this.doubleClickZoom=d,this.touchZoom=g,this.touchRotate=y,this.keyboard=_}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,Ri,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,Ri,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=ze(this.getCenter(t),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,u=e/a,l=0;n>0?Math.abs(s-i)>5&&(l=n/(i-s)*1.2):n<0&&i>5&&(l=1-r/i),l=Math.min(1,Math.max(-1,l));var c=this.mapState.rotate({deltaScaleX:u,deltaScaleY:l});return this.updateViewport(c,Ri,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,Ri,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,Ri,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,Ri,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},Ai,{transitionInterpolator:new br({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,Ai)}}]),t}(),Bi=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function qi(t){return"react-map-gl: `".concat(t,"` is removed.")}function Wi(t){return"Use `".concat(t,"` instead.")}function Vi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Bi.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=qi(e.old);e.new&&(n="".concat(n," ").concat(Wi(e.new))),console.warn(n)}}))}function Ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var Hi=Object.assign({},Ar.propTypes,{maxZoom:c().number,minZoom:c().number,maxPitch:c().number,minPitch:c().number,onViewStateChange:c().func,onViewportChange:c().func,onInteractionStateChange:c().func,transitionDuration:c().oneOfType([c().number,c().string]),transitionInterpolator:c().object,transitionInterruption:c().number,transitionEasing:c().func,onTransitionStart:c().func,onTransitionInterrupt:c().func,onTransitionEnd:c().func,scrollZoom:c().bool,dragPan:c().bool,dragRotate:c().bool,doubleClickZoom:c().bool,touchZoom:c().bool,touchRotate:c().bool,keyboard:c().bool,onHover:c().func,onClick:c().func,onDblClick:c().func,onContextMenu:c().func,onMouseDown:c().func,onMouseMove:c().func,onMouseUp:c().func,onTouchStart:c().func,onTouchMove:c().func,onTouchEnd:c().func,onMouseEnter:c().func,onMouseLeave:c().func,onMouseOut:c().func,onWheel:c().func,touchAction:c().string,clickRadius:c().number,interactiveLayerIds:c().array,getCursor:c().func,controller:c().instanceOf(Fi)}),Gi=Object.assign({},Ar.defaultProps,_r,Br.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),Yi=function(t){Ee(n,t);var e=Ui(n);function n(t){var r;return ye(this,n),Ce(be(r=e.call(this,t)),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Ce(be(r),"_controller",void 0),Ce(be(r),"_eventManager",void 0),Ce(be(r),"_interactiveContext",void 0),Ce(be(r),"_width",0),Ce(be(r),"_height",0),Ce(be(r),"_eventCanvasRef",(0,s.createRef)()),Ce(be(r),"_staticMapRef",(0,s.createRef)()),Ce(be(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),Ce(be(r),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(t,e)})),Ce(be(r),"_onInteractionStateChange",(function(t){var e=t.isDragging,n=void 0!==e&&e;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(t)})),Ce(be(r),"_onResize",(function(t){var e=t.width,n=t.height;r._width=e,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:e,height:n})})),Ce(be(r),"_onViewportChange",(function(t,e,n){var i=r.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:t,interactionState:e,oldViewState:n}),a&&a(t,e,n)})),Ce(be(r),"_onLoad",(function(t){r.setState({isLoaded:!0}),r.props.onLoad(t)})),Ce(be(r),"_onEvent",(function(t,e){var n=r.props[t];n&&n(r._normalizeEvent(e))})),Ce(be(r),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchStart",t);break;default:r._onEvent("onMouseDown",t)}})),Ce(be(r),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchEnd",t);break;default:r._onEvent("onMouseUp",t)}})),Ce(be(r),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchMove",t);break;default:r._onEvent("onMouseMove",t)}if(!r.state.isDragging){var e,n=r.props,i=n.onHover,o=n.interactiveLayerIds;t=r._normalizeEvent(t),r.state.isLoaded&&(o||i)&&(e=r._getFeatures({pos:t.point,radius:r.props.clickRadius})),i&&(t.features=e,i(t));var a=Boolean(o&&e&&e.length>0),s=a&&!r.state.isHovering,u=!a&&r.state.isHovering;s&&r._onEvent("onMouseEnter",t),u&&r._onEvent("onMouseLeave",t),(s||u)&&r.setState({isHovering:a})}})),Ce(be(r),"_onClick",(function(t){var e=r.props,n=e.onClick,i=e.onNativeClick,o=e.onDblClick,a=e.doubleClickZoom,s=[],u=o||a;switch(t.type){case"anyclick":s.push(i),u||s.push(n);break;case"click":u&&s.push(n)}(s=s.filter(Boolean)).length&&((t=r._normalizeEvent(t)).features=r._getFeatures({pos:t.point,radius:r.props.clickRadius}),s.forEach((function(e){return e(t)})))})),Vi(t),r._controller=t.controller||new Fi,r._eventManager=new ji(null,{touchAction:t.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return we(n,null,[{key:"supported",value:function(){return Ar.supported()}}]),we(n,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];e=o&&o.queryRenderedFeatures(s,i)}else e=o&&o.queryRenderedFeatures(n,i);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],r=new Mn(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=r.unproject(n),t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.style,i=t.getCursor,o=Object.assign({position:"relative"},r,{width:e,height:n,cursor:i(this.state)});return s.createElement(Mr.Provider,{value:this._interactiveContext},s.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:o},s.createElement(Ar,(0,me.Z)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(s.PureComponent);function Xi(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Si(t)&&"object"===Si(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!Xi(t[s],e[s]))return!1}return!0}return!1}function Ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Yi,"propTypes",Hi),Ce(Yi,"defaultProps",Gi);var Qi={type:c().string.isRequired,id:c().string},$i=0,Ji=function(t){Ee(n,t);var e=Ki(n);function n(t){var r;return ye(this,n),Ce(be(r=e.call(this,t)),"id",void 0),Ce(be(r),"type",void 0),Ce(be(r),"_map",null),Ce(be(r),"_sourceOptions",{}),Ce(be(r),"_updateSource",(function(){var t=be(r),e=t.type;if(t._map){var n=be(r),i=n._sourceOptions,o=n.props;tr(!o.id||o.id===r.id,"source id changed"),tr(o.type===e,"source type changed");var a="",s=0;for(var u in o)"children"===u||"id"===u||Xi(i[u],o[u])||(i[u]=o[u],a=u,s++);var l=r.getSource();if(l){if(s)if("geojson"===e)l.setData(i.data);else if("image"===e)l.updateImage({url:i.url,coordinates:i.coordinates});else if("canvas"!==e&&"video"!==e||1!==s||"coordinates"!==a)if("vector"===e&&l.setUrl)switch(a){case"url":l.setUrl(i.url);break;case"tiles":l.setTiles(i.tiles)}else console.warn("Unable to update <Source> prop: ".concat(a));else l.setCoordinates(i.coordinates)}else r._createSource(i)}})),r.id=t.id||"jsx-source-".concat($i++),r.type=t.type,r}return we(n,[{key:"componentWillUnmount",value:function(){var t=this,e=this._map;e&&(e.off("styledata",this._updateSource),requestAnimationFrame((function(){e.style&&e.style._loaded&&e.removeSource(t.id)})))}},{key:"getSource",value:function(){var t=this._map;return t&&t.style&&t.getSource(this.id)}},{key:"_createSource",value:function(t){var e=this._map;e.style&&e.style._loaded&&e.addSource(this.id,t)}},{key:"_render",value:function(t){var e=this;return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateSource)),this._updateSource(),s.Children.map(this.props.children,(function(t){return t&&(0,s.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return s.createElement(Mr.Consumer,null,this._render.bind(this))}}]),n}(s.PureComponent);function to(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Ji,"propTypes",Qi);var no={type:c().oneOf(Object.keys({fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade"})).isRequired,id:c().string,source:c().string,beforeId:c().string};var ro=0,io=function(t){Ee(n,t);var e=eo(n);function n(t){var r;return ye(this,n),Ce(be(r=e.call(this,t)),"id",void 0),Ce(be(r),"type",void 0),Ce(be(r),"_map",null),Ce(be(r),"_layerOptions",{}),Ce(be(r),"_updateLayer",(function(){var t=r._map;if(t){var e=be(r),n=e.props,i=e._layerOptions;if(tr(!n.id||n.id===r.id,"layer id changed"),tr(n.type===r.type,"layer type changed"),r.getLayer())try{!function(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,u=n.filter,l=n.minzoom,c=n.maxzoom,h=n.beforeId,p=to(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(h!==r.beforeId&&t.moveLayer(e,h),o!==r.layout){var f=r.layout||{};for(var d in o)Xi(o[d],f[d])||t.setLayoutProperty(e,d,o[d]);for(var v in f)o.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(s!==r.paint){var g=r.paint||{};for(var m in s)Xi(s[m],g[m])||t.setPaintProperty(e,m,s[m]);for(var y in g)s.hasOwnProperty(y)||t.setPaintProperty(e,y,void 0)}for(var b in Xi(u,r.filter)||t.setFilter(e,u),l===r.minzoom&&c===r.maxzoom||t.setLayerZoomRange(e,l,c),p)Xi(p[b],r[b])||t.setLayerProperty(e,b,p[b])}(t,r.id,n,i),Object.assign(i,n)}catch(o){console.warn(o)}else r._createLayer()}})),r.id=t.id||"jsx-layer-".concat(ro++),r.type=t.type,r}return we(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var t=this._map;t&&(t.off("styledata",this._updateLayer),t.style&&t.style._loaded&&t.removeLayer(this.id))}},{key:"getLayer",value:function(){var t=this._map;return t&&t.style&&t.getLayer(this.id)}},{key:"_createLayer",value:function(){var t=this._map;if(t.style&&t.style._loaded){var e=Object.assign({},this.props);e.id=this.id,delete e.beforeId,t.addLayer(e,this.props.beforeId),this._layerOptions=e}}},{key:"_render",value:function(t){return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return s.createElement(Mr.Consumer,null,this._render.bind(this))}}]),n}(s.PureComponent);function oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(io,"propTypes",no);var ao={captureScroll:c().bool,captureDrag:c().bool,captureClick:c().bool,captureDoubleClick:c().bool,capturePointerMove:c().bool},so=function(t){Ee(n,t);var e=oo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"_context",{}),Ce(be(t),"_events",null),Ce(be(t),"_containerRef",(0,s.createRef)()),Ce(be(t),"_onScroll",(function(e){t.props.captureScroll&&e.stopPropagation()})),Ce(be(t),"_onDragStart",(function(e){t.props.captureDrag&&e.stopPropagation()})),Ce(be(t),"_onDblClick",(function(e){t.props.captureDoubleClick&&e.stopPropagation()})),Ce(be(t),"_onClick",(function(e){t.props.captureClick&&e.stopPropagation()})),Ce(be(t),"_onPointerMove",(function(e){t.props.capturePointerMove&&e.stopPropagation()})),t}return we(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},e.watch(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return s.createElement(Mr.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(s.PureComponent);function uo(t,e,n){return(uo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(so,"propTypes",ao),Ce(so,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1});var co=Object.assign({},so.propTypes,{draggable:c().bool,onDrag:c().func,onDragEnd:c().func,onDragStart:c().func,offsetLeft:c().number,offsetTop:c().number}),ho=Object.assign({},so.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),po=function(t){Ee(n,t);var e=lo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"state",{dragPos:null,dragOffset:null}),Ce(be(t),"_dragEvents",null),Ce(be(t),"_onDragStart",(function(e){var n=t.props,r=n.draggable,i=n.captureDrag;if((r||i)&&e.stopPropagation(),r){var o=t._getDragEventPosition(e),a=t._getDragEventOffset(e);t.setState({dragPos:o,dragOffset:a}),t._setupDragEvents();var s=t.props.onDragStart;if(s&&a){var u=Object.assign({},e);u.lngLat=t._getDragLngLat(o,a),s(u)}}})),Ce(be(t),"_onDrag",(function(e){e.stopPropagation();var n=t._getDragEventPosition(e);t.setState({dragPos:n});var r=t.props.onDrag,i=t.state.dragOffset;if(r&&i){var o=Object.assign({},e);o.lngLat=t._getDragLngLat(n,i),r(o)}})),Ce(be(t),"_onDragEnd",(function(e){var n=t.state,r=n.dragPos,i=n.dragOffset;e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents();var o=t.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},e);a.lngLat=t._getDragLngLat(r,i),o(a)}})),Ce(be(t),"_onDragCancel",(function(e){e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents()})),t}return we(n,[{key:"componentWillUnmount",value:function(){uo(Me(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,r=e.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=ze(this._getDraggedPosition(t,e),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-r,s-i])}}]),n}(so);Ce(po,"propTypes",co),Ce(po,"defaultProps",ho);var fo="undefined"!=typeof window&&window.devicePixelRatio||1,vo=function(t){return Math.round(t*fo)/fo},go=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return vo(e/100*r)/r*100};function mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var yo=Object.assign({},po.propTypes,{className:c().string,longitude:c().number.isRequired,latitude:c().number.isRequired}),bo=Object.assign({},po.defaultProps,{className:""}),_o=function(t){Ee(n,t);var e=mo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"_control",null),t}return we(n,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,r=t.offsetLeft,i=t.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=ze(this._context.viewport.project([e,n]),2),l=u[0],c=u[1];return[l+=r,c+=i]}},{key:"_render",value:function(){var t=ze(this._getPosition(),2),e=t[0],n=t[1],r="translate(".concat(vo(e),"px, ").concat(vo(n),"px)"),i=this._containerRef.current;if(this._control&&i)i.style.transform=r;else{var o=this.props,a=o.className,u=o.draggable,l=this.state.dragPos,c={position:"absolute",left:0,top:0,transform:r,cursor:u?l?"grabbing":"grab":"auto"};this._control=s.createElement("div",{className:"mapboxgl-marker ".concat(a),ref:this._containerRef,style:c},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,uo(Me(n.prototype),"render",this).call(this)}}]),n}(po);Ce(_o,"propTypes",yo),Ce(_o,"defaultProps",bo);var wo={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},xo=Object.keys(wo);function Eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}var ko=Object.assign({},so.propTypes,{className:c().string,longitude:c().number.isRequired,latitude:c().number.isRequired,altitude:c().number,offsetLeft:c().number,offsetTop:c().number,tipSize:c().number,closeButton:c().bool,closeOnClick:c().bool,anchor:c().oneOf(Object.keys(wo)),dynamicPosition:c().bool,sortByDepth:c().bool,onClose:c().func}),So=Object.assign({},so.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Mo=function(t){Ee(n,t);var e=Eo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"_closeOnClick",!1),Ce(be(t),"_contentRef",(0,s.createRef)()),Ce(be(t),"_onClick",(function(e){if(t.props.captureClick&&e.stopPropagation(),t.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){t.props.onClose();var n=t._context.eventManager;n&&n.once("click",(function(t){return t.stopPropagation()}),e.target)}})),t}return we(n,[{key:"componentDidMount",value:function(){uo(Me(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,l=void 0===u?0:u,c=wo[s],h=c.x,p=c.y,f=n-p*a,d=f+a,v=Math.max(0,l-f)+Math.max(0,d-i+l);if(v>0){var g=p,m=v;for(p=0;p<=1;p+=.5)d=(f=n-p*a)+a,(v=Math.max(0,l-f)+Math.max(0,d-i+l))<m&&(m=v,g=p);p=g}var y=.5;.5===p&&(h=Math.floor(h),y=1);var b=e-h*o,_=b+o,w=Math.max(0,l-b)+Math.max(0,_-r+l);if(w>0){var x=h,E=w;for(h=0;h<=1;h+=y)_=(b=e-h*o)+o,(w=Math.max(0,l-b)+Math.max(0,_-r+l))<E&&(E=w,x=h);h=x}return xo.find((function(t){var e=wo[t];return e.x===h&&e.y===p}))||s}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(t,e,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,l=wo[r],c=t+a,h=e+s,p=this._containerRef.current,f=go(p,100*-l.x),d=go(p,100*-l.y,"y"),v={position:"absolute",transform:"\n        translate(".concat(f,"%, ").concat(d,"%)\n        translate(").concat(vo(c),"px, ").concat(vo(h),"px)\n      "),display:void 0,zIndex:void 0};return u?(n>1||n<-1||t<0||t>i.width||e<0||e>i.height?v.display="none":v.zIndex=Math.floor((1-n)/2*1e5),v):v}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return s.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return s.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&s.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.altitude,o=ze(this._context.viewport.project([n,r,i]),3),a=o[0],u=o[1],l=o[2],c=this._getPosition(a,u),h=this._getContainerStyle(a,u,l,c);return s.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(c," ").concat(e),style:h,ref:this._containerRef},this._renderTip(c),this._renderContent())}}]),n}(so);function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Mo,"propTypes",ko),Ce(Mo,"defaultProps",So);var Po,To=Object.assign({},so.propTypes,{className:c().string,container:c().object,label:c().string}),Oo=Object.assign({},so.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),Lo=function(t){Ee(n,t);var e=Co(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"state",{isFullscreen:!1,showButton:!1}),Ce(be(t),"_mapboxFullscreenControl",null),Ce(be(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),Ce(be(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return we(n,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(Xn().FullscreenControl)({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Wn.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Wn.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return s.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props,e=t.className,n=t.label,r=this.state.isFullscreen?"shrink":"fullscreen";return s.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(r,n,this._onClickFullscreen))}}]),n}(so);function jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Lo,"propTypes",To),Ce(Lo,"defaultProps",Oo);var Ro=Object.assign({},Br.defaultProps,{transitionDuration:500}),Ao=function(){},zo=Object.assign({},so.propTypes,{className:c().string,style:c().object,label:c().string,auto:c().bool,positionOptions:c().object,fitBoundsOptions:c().object,trackUserLocation:c().bool,showUserLocation:c().bool,onViewStateChange:c().func,onViewportChange:c().func,onGeolocate:c().func}),Io=Object.assign({},so.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),Do=function(t){Ee(n,t);var e=jo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"state",{supportsGeolocation:!1,markerPosition:null}),Ce(be(t),"_mapboxGeolocateControl",null),Ce(be(t),"_geolocateButtonRef",(0,s.createRef)()),Ce(be(t),"_setupMapboxGeolocateControl",(function(e){if(e){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in t.props&&null!==t.props[e]&&(n[e]=t.props[e])}));var r=new(Xn().GeolocateControl)(n);t._mapboxGeolocateControl=r,r._watchState="OFF",r._geolocateButton=t._geolocateButtonRef.current,r.options.trackUserLocation&&r._geolocateButton&&r._geolocateButton.setAttribute("aria-pressed","false"),r._updateMarker=t._updateMarker,r._updateCamera=t._updateCamera,r._setup=!0;var i=t._context.eventManager;r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",t.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Ce(be(t),"_triggerGeolocate",(function(){var e=t._mapboxGeolocateControl;return e._map=t._context.map,t.props.showUserLocation&&(e.on("geolocate",t._updateMarker),e.on("trackuserlocationend",t._updateMarker)),t._mapboxGeolocateControl.trigger()})),Ce(be(t),"_updateMarker",(function(e){e&&t.setState({markerPosition:e.coords})})),Ce(be(t),"_getBounds",(function(t){var e=new(Xn().LngLat)(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),Ce(be(t),"_updateCamera",(function(e){var n=t._context.viewport,r=t._getBounds(e),i=new Mn(n).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,u=Object.assign({},n,{longitude:o,latitude:a,zoom:s}),l=new kr(u),c=Object.assign({},l.getViewportProps(),Ro),h=t.props.onViewportChange||t._context.onViewportChange||Ao;(t.props.onViewStateChange||t._context.onViewStateChange||Ao)({viewState:c}),h(c)})),Ce(be(t),"_renderButton",(function(e,n,r){return s.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:t._geolocateButtonRef,type:"button",title:n,onClick:r},s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),Ce(be(t),"_renderMarker",(function(){var e=t.state.markerPosition,n=t.props.showUserLocation;return e&&n?s.createElement(_o,{key:"location-maker",longitude:e.longitude,latitude:e.latitude,captureDrag:!1,captureDoubleClick:!1},s.createElement("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),t}return we(n,[{key:"componentDidMount",value:function(){var t=this;(void 0!==Po?Promise.resolve(Po):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return Po="denied"!==t.state})):(Po=Boolean(window.navigator.geolocation),Promise.resolve(Po))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e),e&&t.props.auto&&t._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(t){this.state.supportsGeolocation&&!t.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style,r=t.label;return s.createElement("div",null,this._renderMarker(),s.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(so);function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Do,"propTypes",zo),Ce(Do,"defaultProps",Io);var Zo=function(){},Fo=Object.assign({},so.propTypes,{className:c().string,onViewStateChange:c().func,onViewportChange:c().func,showCompass:c().bool,showZoom:c().bool,zoomInLabel:c().string,zoomOutLabel:c().string,compassLabel:c().string}),Bo=Object.assign({},so.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function qo(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,"1.6.0")>=0?2:1}var Wo=function(t){Ee(n,t);var e=No(n);function n(t){var r;return ye(this,n),Ce(be(r=e.call(this,t)),"_uiVersion",void 0),Ce(be(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),Ce(be(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),Ce(be(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),Vi(t),r}return we(n,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new kr(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),Ai),i=this.props.onViewportChange||this._context.onViewportChange||Zo;(this.props.onViewStateChange||this._context.onViewStateChange||Zo)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing,e={transform:"rotate(".concat(-t,"deg)")};return 2===this._uiVersion?s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:e}):s.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:e})}},{key:"_renderButton",value:function(t,e,n,r){return s.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom,i=t.zoomInLabel,o=t.zoomOutLabel,a=t.compassLabel;if(!this._uiVersion){var u=this._context.map;this._uiVersion=u?qo(u.version):2}return s.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in",i,this._onZoomIn),r&&this._renderButton("zoom-out",o,this._onZoomOut),n&&this._renderButton("compass",a,this._onResetNorth,this._renderCompass()))}}]),n}(so);function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Wo,"propTypes",Fo),Ce(Wo,"defaultProps",Bo);var Uo=Object.assign({},so.propTypes,{maxWidth:c().number,unit:c().oneOf(["imperial","metric","nautical"])}),Ho=Object.assign({},so.defaultProps,{maxWidth:100,unit:"metric"}),Go=function(t){Ee(n,t);var e=Vo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"_control",null),Ce(be(t),"_mapboxScaleControl",null),t}return we(n,[{key:"componentDidMount",value:function(){var t=new(Xn().ScaleControl);t._map=this._context.map,t._container=this._containerRef.current,this._mapboxScaleControl=t,this._update()}},{key:"_update",value:function(){var t=this._mapboxScaleControl;t&&(t.options=this.props,t._onMove())}},{key:"_render",value:function(){return this._control=this._control||s.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(so);function Yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Go,"propTypes",Uo),Ce(Go,"defaultProps",Ho);var Xo=Object.assign({},so.propTypes,{redraw:c().func.isRequired}),Ko=function(t){Ee(n,t);var e=Yo(n);function n(){var t;ye(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ce(be(t=e.call.apply(e,[this].concat(i))),"_canvas",void 0),Ce(be(t),"_ctx",void 0),Ce(be(t),"_redraw",(function(){var e=t._ctx;if(e){var n=qn.devicePixelRatio||1;e.save(),e.scale(n,n);var r=t._context,i=r.viewport,o=r.isDragging;t.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),t}return we(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=qn.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),s.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(so);function Qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Ko,"propTypes",Xo),Ce(Ko,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var $o=Object.assign({},so.propTypes,{redraw:c().func.isRequired,style:c().object}),Jo=function(t){Ee(n,t);var e=Qo(n);function n(){return ye(this,n),e.apply(this,arguments)}return we(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return s.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(so);function ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}Ce(Jo,"propTypes",$o),Ce(Jo,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var ea=Object.assign({},so.propTypes,{redraw:c().func.isRequired,style:c().object}),na=function(t){Ee(n,t);var e=ta(n);function n(){return ye(this,n),e.apply(this,arguments)}return we(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return s.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(so);Ce(na,"propTypes",ea),Ce(na,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});Xn()&&Xn().setRTLTextPlugin;var ra=n(5040),ia=n.n(ra);function oa(t,e){var n=Ze([],e,t);return Ne(n,n,1/n[3]),n}function aa(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var sa=Math.PI,ua=sa/4,la=sa/180,ca=180/sa,ha=4003e4;function pa(t){return Math.pow(2,t)}function fa(t,e){var n=ze(t,2),r=n[0],i=n[1];aa(Number.isFinite(r)&&Number.isFinite(e)),aa(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var o=i*la;return[(e*=512)*(r*la+sa)/(2*sa),e*(sa-Math.log(Math.tan(ua+.5*o)))/(2*sa)]}function da(t,e){var n=ze(t,2),r=n[0],i=n[1],o=r/(e*=512)*(2*sa)-sa,a=2*(Math.atan(Math.exp(sa-i/e*(2*sa)))-ua);return[o*ca,a*ca]}function va(t){var e=t.latitude,n=t.longitude,r=t.zoom,i=t.scale,o=t.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:pa(r),aa(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=512*i,l=Math.cos(e*la),c=u/360,h=c/l,p=u/ha/l;if(s.pixelsPerMeter=[p,-p,p],s.metersPerPixel=[1/p,-1/p,1/p],s.pixelsPerDegree=[c,-h,p],s.degreesPerPixel=[1/c,-1/h,1/p],a){var f=la*Math.tan(e*la)/l,d=c*f/2,v=u/ha*f,g=v/h*p;s.pixelsPerDegree2=[0,-d,v],s.pixelsPerMeter2=[g,0,g]}return s}function ga(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,u=void 0!==s&&s,l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Ge(l,l,[0,0,-i]),Ye(l,l,[1,1,1/e]),Xe(l,l,-n*la),Ke(l,l,r*la),u&&Ye(l,l,[1,-1,1]),a&&Ge(l,l,an([],a)),l}function ma(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,l=t.farZMultiplier,c=void 0===l?1:l,h=a*la,p=Math.atan(.5/i),f=Math.sin(p)*i/Math.sin(Math.PI/2-h-p),d=Math.cos(Math.PI/2-h)*f+i;return{fov:2*Math.atan(n/2/i),aspect:e/n,focalDistance:i,near:u,far:d*c}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return Qe([],i.fov,i.aspect,i.near,i.far)}function ya(t,e){var n=ze(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return aa(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),oa(e,[r,i,a,1])}function ba(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ze(t,3),i=r[0],o=r[1],a=r[2];if(aa(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=oa(e,[i,o,a,1]);return s}var u=oa(e,[i,o,0,1]),l=oa(e,[i,o,1,1]),c=u[2],h=l[2],p=c===h?0:((n||0)-c)/(h-c);return rn([],u,l,p)}var _a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function wa(t){var e=t.width,n=t.height,r=t.bounds,i=t.padding,o=void 0===i?0:i,a=t.offset,s=void 0===a?[0,0]:a,u=ze(r,2),l=ze(u[0],2),c=l[0],h=l[1],p=ze(u[1],2),f=p[0],d=p[1];if(Number.isFinite(o)){o={top:o,bottom:o,left:o,right:o}}else aa(Number.isFinite(o.top)&&Number.isFinite(o.bottom)&&Number.isFinite(o.left)&&Number.isFinite(o.right));var v=new xa({width:e,height:n,longitude:0,latitude:0,zoom:0}),g=v.project([c,d]),m=v.project([f,h]),y=[Math.abs(m[0]-g[0]),Math.abs(m[1]-g[1])],b=[e-o.left-o.right-2*Math.abs(s[0]),n-o.top-o.bottom-2*Math.abs(s[1])];aa(b[0]>0&&b[1]>0);var _=b[0]/y[0],w=b[1]/y[1],x=(o.right-o.left)/2/_,E=(o.bottom-o.top)/2/w,k=[(m[0]+g[0])/2+x,(m[1]+g[1])/2+E],S=v.unproject(k),M=v.zoom+Math.log2(Math.abs(Math.min(_,w)));return{longitude:S[0],latitude:S[1],zoom:M}}var xa=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,i=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,l=n.zoom,c=void 0===l?0:l,h=n.pitch,p=void 0===h?0:h,f=n.bearing,d=void 0===f?0:f,v=n.altitude,g=void 0===v?1.5:v,m=n.nearZMultiplier,y=n.farZMultiplier;ye(this,e),r=r||1,i=i||1;var b=pa(c);g=Math.max(.75,g);var _=fa([u,a],b);_[2]=0;var w=ma({width:r,height:i,pitch:p,bearing:d,altitude:g,nearZMultiplier:m||1/i,farZMultiplier:y||1.01}),x=ga({height:i,center:_,pitch:p,bearing:d,altitude:g,flipY:!0});return(t=Se(this,Me(e).call(this,{width:r,height:i,viewMatrix:x,projectionMatrix:w}))).latitude=a,t.longitude=u,t.zoom=c,t.pitch=p,t.bearing=d,t.altitude=g,t.scale=b,t.center=_,t.pixelsPerMeter=va(be(be(t))).pixelsPerMeter[2],Object.freeze(be(be(t))),t}return Ee(e,t),we(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return fa(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return da(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=ba(t.pos,this.pixelUnprojectionMatrix),r=Je([],fa(e,this.scale),nn([],n));return da(Je([],this.center,r),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=wa(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:u})}}]),e}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.viewMatrix,o=void 0===i?_a:i,a=e.projectionMatrix,s=void 0===a?_a:a;ye(this,t),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];He(u,u,this.projectionMatrix),He(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ye(l,l,[this.width/2,-this.height/2,1]),Ge(l,l,[1,-1,0]),He(l,l,this.viewProjectionMatrix);var c=Ue([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return we(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&$e(e.projectionMatrix,this.projectionMatrix)&&$e(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=ya(i,this.pixelProjectionMatrix),a=ze(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===t.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=ze(t,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=i&&i*this.pixelsPerMeter,h=ba([a,l,u],this.pixelUnprojectionMatrix,c),p=this.unprojectPosition(h),f=ze(p,3),d=f[0],v=f[1],g=f[2];return Number.isFinite(u)?[d,v,g]:Number.isFinite(i)?[d,v,i]:[d,v]}},{key:"projectPosition",value:function(t){var e=ze(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(t){var e=ze(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}}]),t}()),Ea=["top-left","top-right","bottom-left","bottom-right"],ka=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).geocoder=null,e.cachedResult=null,e.initializeGeocoder=function(){var t=e.getMapboxMap(),n=e.getContainerNode(),r=e.props,i=r.inputValue,o=r.render,a=r.getItemValue,s=r.onInit,u=r.position,l={accessToken:r.mapboxApiAccessToken,origin:r.origin,zoom:r.zoom,flyTo:!1,placeholder:r.placeholder,proximity:r.proximity,trackProximity:r.trackProximity,collapsed:r.collapsed,clearAndBlurOnEsc:r.clearAndBlurOnEsc,clearOnBlur:r.clearOnBlur,bbox:r.bbox,types:r.types,countries:r.countries,minLength:r.minLength,limit:r.limit,language:r.language,filter:r.filter,localGeocoder:r.localGeocoder,reverseGeocode:r.reverseGeocode,enableEventLogging:r.enableEventLogging,marker:r.marker,mapboxgl:Xn()};o&&"function"==typeof o&&(l.render=o),a&&"function"==typeof a&&(l.getItemValue=a),e.geocoder=new(ia())(l),e.subscribeEvents(),n?n.appendChild(e.geocoder.onAdd(t)):t.addControl(e.geocoder,Ea.find((function(t){return u===t}))),null!=i?e.geocoder.setInput(i):e.cachedResult&&e.geocoder.setInput(e.cachedResult.place_name),(e.cachedResult||null!=i)&&e.showClearIcon(),s(e.geocoder)},e.showClearIcon=function(){e.geocoder._clearEl.style.display="block"},e.getMapboxMap=function(){var t=e.props.mapRef;return t&&t.current&&t.current.getMap()||null},e.getContainerNode=function(){var t=e.props.containerRef;return t&&t.current||null},e.subscribeEvents=function(){e.geocoder.on("clear",e.handleClear),e.geocoder.on("loading",e.handleLoading),e.geocoder.on("results",e.handleResults),e.geocoder.on("result",e.handleResult),e.geocoder.on("error",e.handleError)},e.unsubscribeEvents=function(){e.geocoder.off("clear",e.handleClear),e.geocoder.off("loading",e.handleLoading),e.geocoder.off("results",e.handleResults),e.geocoder.off("result",e.handleResult),e.geocoder.off("error",e.handleError)},e.removeGeocoder=function(){var t=e.getMapboxMap();e.unsubscribeEvents(),t&&t.removeControl&&e.getMapboxMap().removeControl(e.geocoder),e.geocoder=null},e.handleClear=function(){e.cachedResult=null,e.props.onClear()},e.handleLoading=function(t){e.props.onLoading(t)},e.handleResults=function(t){e.props.onResults(t)},e.handleResult=function(t){var n=t.result,r=e.props,i=r.onViewportChange,o=r.onResult,a=n.bbox,s=n.center,u=n.properties,l=(void 0===u?{}:u).short_code,c=s[0],h=s[1],p={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},f=e.getMapboxMap().getContainer().getBoundingClientRect(),d=f.width,v=f.height,g=e.geocoder.options.zoom,m=function(t,e){return new xa(e).fitBounds(t)};try{!p[l]&&a?g=m([[a[0],a[1]],[a[2],a[3]]],{width:d,height:v}).zoom:p[l]&&(g=m(p[l].bbox,{width:d,height:v}).zoom)}catch(t){console.warn("following result caused an error when trying to zoom to bbox: ",n),g=e.geocoder.options.zoom}i({longitude:c,latitude:h,zoom:g,transitionInterpolator:new dr,transitionDuration:3e3}),o(t),e.cachedResult=n,e.geocoder._typeahead.selected=null,e.showClearIcon()},e.handleError=function(t){e.props.onError(t)},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.initializeGeocoder()},i.componentWillUnmount=function(){this.removeGeocoder()},i.componentDidUpdate=function(){this.removeGeocoder(),this.initializeGeocoder()},i.getGeocoder=function(){return this.geocoder},i.render=function(){return null},r}(s.PureComponent);ka.propTypes={mapRef:c().object.isRequired,containerRef:c().object,onViewportChange:c().func,mapboxApiAccessToken:c().string.isRequired,inputValue:c().string,origin:c().string,zoom:c().number,placeholder:c().string,proximity:c().object,trackProximity:c().bool,collapsed:c().bool,clearAndBlurOnEsc:c().bool,clearOnBlur:c().bool,bbox:c().array,types:c().string,countries:c().string,minLength:c().number,limit:c().number,language:c().string,filter:c().func,localGeocoder:c().func,reverseGeocode:c().bool,enableEventLogging:c().bool,marker:c().bool,render:c().func,getItemValue:c().func,position:c().oneOf(Ea),onInit:c().func,onClear:c().func,onLoading:c().func,onResults:c().func,onResult:c().func,onError:c().func},ka.defaultProps={onViewportChange:function(){},origin:"https://api.mapbox.com",zoom:16,placeholder:"Search",trackProximity:!1,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,minLength:2,limit:5,reverseGeocode:!1,enableEventLogging:!0,marker:!0,position:"top-right",onInit:function(){},onClear:function(){},onLoading:function(){},onResults:function(){},onResult:function(){},onError:function(){}};var Sa=ka,Ma=["Acton","Arlington","Ashland","Bedford","Bellingham","Belmont","Beverly","Bolton","Boston","Boxborough","Braintree","Brookline","Burlington","Cambridge","Canton","Carlisle","Chelsea","Cohasset","Concord","Danvers","Dedham","Dover","Duxbury","Essex","Everett","Foxborough","Framingham","Franklin","Gloucester","Hamilton","Hanover","Hingham","Holbrook","Holliston","Hopkinton","Hudson","Hull","Ipswich","Lexington","Lincoln","Littleton","Lynn","Lynnfield","Malden","Manchester","Manchester-by-the-Sea","Marblehead","Marlborough","Marshfield","Maynard","Medfield","Medford","Medway","Melrose","Middleton","Milford","Millis","Milton","Nahant","Natick","Needham","Newton","Norfolk","North Reading","Norwell","Norwood","Peabody","Pembroke","Quincy","Randolph","Reading","Revere","Rockland","Rockport","Salem","Saugus","Scituate","Sharon","Sherborn","Somerville","Southborough","Stoneham","Stoughton","Stow","Sudbury","Swampscott","Topsfield","Wakefield","Walpole","Waltham","Watertown","Wayland","Wellesley","Wenham","Weston","Westwood","Weymouth","Wilmington","Winchester","Winthrop","Woburn","Wrentham"];var Ca={name:"12iuoey",styles:"bottom:4.2rem;position:absolute;right:1rem"},Pa={name:"1dbtoua",styles:"position:absolute;top:0"},Ta={name:"1dk0v5d",styles:"z-index:2"},Oa=(0,u.iv)("padding:0.8rem;h1{color:",mt.lB.indigo,";font-family:",mt.Rq.calibre,";font-size:1.8rem;font-weight:600;margin:0 0 1rem 0;text-transform:lowercase;}h1:first-letter,h1:first-line{text-transform:capitalize;}p{margin:0;color:",mt.lB.fontGray,";font-size:16px;}","");function La(t){var e=t.find((function(t){return"Municipal highlight"===t.layer.id}));return e?e.properties.municipal:""}var ja={name:"1k74pxq",styles:"font-weight:600;padding-right:2px;color:black"},Ra=function(t){var e=t.selectedMuni,n=t.setMuni,r=t.containerRef,i=t.highlightedSites,o=(0,s.useRef)();(0,s.useEffect)((function(){if(o&&o.current){var t=o.current.getMap();null==t||t.on("load",(function(){null==t||t.moveLayer("state-label"),null==t||t.moveLayer("settlement-minor-label"),null==t||t.moveLayer("settlement-major-label")}))}}),[]);var a=(0,s.useState)({latitude:42.33803,longitude:-71.21158,zoom:8,transitionDuration:1e3}),l=a[0],c=a[1],h=(0,s.useState)(!1),p=h[0],f=h[1],d=(0,s.useState)(),v=d[0],g=d[1],m=(0,s.useState)(),y=m[0],b=m[1],_=(0,s.useCallback)((function(t){return c(t)}),[]),w=(0,s.useCallback)((function(t){return _(Object.assign({},t,{transitionDuration:1e3,zoom:12}))}),[]),x=ja;function E(t){return t.toFixed(0)}function k(t){var e=t%10,n=t%100;return 1==e&&11!=n?t+"st":2==e&&12!=n?t+"nd":3==e&&13!=n?t+"rd":t+"th"}return(0,u.tZ)("div",{css:Pa},(0,u.tZ)(Yi,(0,me.Z)({},l,{ref:o,width:"100vw",height:"100vh",onViewportChange:_,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/cknj7cvb513e317rxm4a8i9ah",scrollZoom:!0,onLoad:function(){n((function(){var t=Math.floor(Math.random()*Ma.length);return"Carlisle"!==Ma[t]||"Manchester-by-the-Sea"!==Ma[t]?Ma[t]:Ma[0]})),c(Object.assign({},l,{longitude:-71.21158,latitude:42.33803,zoom:9,transitionDuration:1e3}))},onClick:function(t){t.features.find((function(t){return"Sites_mp_clean_mapbox_layer-71n0va"===t.sourceLayer}))?(n(La(t.features)),c(Object.assign({},l,{longitude:t.lngLat[0],latitude:t.lngLat[1],zoom:17,transitionDuration:1500}))):(n(La(t.features)),c(Object.assign({},l,{longitude:t.lngLat[0],latitude:t.lngLat[1],zoom:12,transitionDuration:1e3})))},onHover:function(t){t.features&&t.features.find((function(t){return"Sites_mp_clean_2021_09_02"===t.sourceLayer}))?(g(t.lngLat),f(!0),b(t.features.find((function(t){return"Sites_mp_clean_2021_09_02"===t.sourceLayer})).properties)):f(!1)}}),(0,u.tZ)(Sa,{css:Ta,containerRef:r,mapRef:o,onViewportChange:w,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",types:"place",bbox:(0,s.useMemo)((function(){return[-71.66866501431952,41.97523050594343,-70.53487628480008,42.74357855916575]}),[]),filter:(0,s.useCallback)((function(t){return!!Ma.find((function(e){return t.place_name.includes(e+", Massachusetts")}))}),[]),onResult:(0,s.useCallback)((function(t){"Manchester-by-the-Sea"===t.result.text?n("Manchester"):n(t.result.text)}),[]),marker:!1,placeholder:"Search for a municipality"}),(null==y?void 0:y.municipal)===e?p&&(0,u.tZ)(Mo,{latitude:v[1],longitude:v[0],closeButton:!1,onClose:function(){return f(!1)},anchor:"top"},(0,u.tZ)("div",{css:Oa},(0,u.tZ)("h1",null,null==y?void 0:y.parcel_addr),(0,u.tZ)("h1",null,null==y?void 0:y.municipal," site ",null==y?void 0:y.site_oid),(0,u.tZ)("p",null,(0,u.tZ)("span",{css:x},(+(null==y?void 0:y["Overall Score"])).toFixed(2)),"/4 Overall Score"),(0,u.tZ)("p",null,(0,u.tZ)("span",{css:x},k(+(null==y?void 0:y.municipal_rank)))," in ",null==y?void 0:y.muni),(0,u.tZ)("p",null,(0,u.tZ)("span",{css:x},k(+(null==y?void 0:y.regional_rank)))," in the Region"),(0,u.tZ)("p",null,"Quantity of Parcels: ",E(parseFloat(null==y?void 0:y["Number of Parcels on Site"]))),(0,u.tZ)("p",null,"Build Area: ",E(parseFloat(null==y?void 0:y.buildarea_sf)).replace(/\B(?=(\d{3})+(?!\d))/g,",")," sq. ft."))):!p,(0,u.tZ)(Ji,{id:"Municipalities",type:"vector",url:"mapbox://ihill.763lks2o"},(0,u.tZ)(io,{type:"fill",id:"Municipal highlight",source:"Municipalities","source-layer":"MAPC_borders-0im3ea",paint:{"fill-color":["match",["get","municipal"],[""+e],"hsla(0, 0%, 0%, 0)","hsla(0, 0%, 0%, 0.2)"]}})),(0,u.tZ)(Ji,{id:"Sites_polygons",type:"vector",url:"mapbox://ihill.5ofxrajx"},(0,u.tZ)(io,{type:"fill",id:"Sites (fill)",source:"Sites_polygons","source-layer":"Sites_mp_clean_mapbox_layer-71n0va",paint:{"fill-opacity":["interpolate",["linear"],["zoom"],10,0,14,.6],"fill-color":["match",["get","municipal"],[e||""],["match",["get","Quintile Category"],1,""+mt.lB.quintile1,2,""+mt.lB.quintile2,3,""+mt.lB.quintile3,4,""+mt.lB.quintile4,5,""+mt.lB.quintile5,"gray"],"gray"]}})),(0,u.tZ)(Ji,{id:"Sites",type:"vector",url:"mapbox://ihill.ckseu5a9h3gry28pa20itgrq7-8tgwx"},(0,u.tZ)(io,{type:"circle",id:"Sites (circles)",source:"Sites","source-layer":"Sites_mp_clean_points_csv",paint:{"circle-color":["match",["get","municipal"],[e||""],["match",["get","Quintile Category"],"1",""+mt.lB.quintile1,"2",""+mt.lB.quintile2,"3",""+mt.lB.quintile3,"4",""+mt.lB.quintile4,"5",""+mt.lB.quintile5,"hsla(0, 0%, 0%, 0)"],"hsla(0, 0%, 0%, 0)"],"circle-radius":["interpolate",["linear"],["zoom"],8,3,12,6]}})),(0,u.tZ)(Ji,{id:"Sites_highlight",type:"vector",url:"mapbox://ihill.5ofxrajx"},(0,u.tZ)(io,{type:"line",id:"Sites (highlight)",source:"Sites_highlight","source-layer":"Sites_mp_clean_mapbox_layer-71n0va",paint:{"line-width":["interpolate",["linear"],["zoom"],8,15,16,5],"line-color":""+mt.lB.gold,"line-opacity":i.length>0?["match",["get","site_oid"],i,1,0]:0}})),(0,u.tZ)("div",{css:Ca},(0,u.tZ)(Wo,null))))},Aa=(0,u.iv)("width:100vw;height:100vh;background:",mt.lB.gossamer,";",""),za={highlightedSites:[]};function Ia(t,e){switch(e.type){case"addSite":return t.highlightedSites.find((function(t){return t===e.toggledSite}))?(console.log("wrapper - reducer - highlightedSites",t.highlightedSites),Object.assign({},t,{highlightedSites:t.highlightedSites.filter((function(t){return t!==e.toggledSite}))})):Object.assign({},t,{highlightedSites:[].concat((0,bt.Z)(t.highlightedSites),[e.toggledSite])});default:return Object.assign({},t)}}var Da=function(){var t=(0,s.useReducer)(Ia,za),e=t[0],n=t[1],r=(0,s.useState)(),i=r[0],o=r[1],a=(0,s.useRef)(null);return(0,u.tZ)(_t.i1,{query:"1346613003",render:function(t){return(0,u.tZ)("div",{css:Aa},(0,u.tZ)(ge,{data:t.allSitesMpClean20210902Csv.nodes,selectedMuni:i,node:t.allSitesMpClean20210902Csv.nodes,containerRef:a,highlightedSites:e.highlightedSites,dispatch:n}),(0,u.tZ)(Ra,{data:t.allSitesMpClean20210902Csv.nodes,selectedMuni:i,setMuni:o,containerRef:a,highlightedSites:e.highlightedSites,dispatch:n}))}})},Na=(mt.lB.indigo,function(){return(0,u.tZ)(s.Fragment,null,(0,u.tZ)(gt,null,(0,u.tZ)("title",null,"Rethinking the Suburban Strip"),(0,u.tZ)("link",{href:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css",rel:"stylesheet"})),(0,u.tZ)(yt,null,(0,u.tZ)("main",null,(0,u.tZ)("div",{css:mt.tF},(0,u.tZ)(Da,null)))))})},9312:function(t,e,n){"use strict";n.d(e,{Rq:function(){return i},lB:function(){return o},tF:function(){return a},eH:function(){return s}});var r=n(5734);var i={calibre:"'Calibre', sans-serif",swiftNeueLtPro:"'Swift Neue LT Pro', serif"},o={winterSky:"#3b66b0",gossamer:"#f2f5fb",bayBlue:"#233069",indigo:"#252b6d",glass:"#0097c4",sky:"#92c9ed",clearWater:"#67cbe4",white:"#FFFFFF",fontGray:"#545454",fontLightGray:"#757575",black:"#000000",warmGray:"#E9E9E9",warmGrayTransparent:"#fbfdff",gold:"#ffc800",quintile1:"#e39374",quintile2:"#c98bc9",quintile3:"#3ec9b7",quintile4:"#5445ff",quintile5:"#00006e"},a={name:"1w0l31q",styles:"margin:0;padding:0;max-width:116.6rem"},s=(0,r.iv)("width:100vw;height:100vh;padding:0;margin:0;position:absolute;font-family:",i.calibre,";header{width:85%;max-width:850px;padding:25px 0;margin:0 auto;img{width:50px;height:auto;}a{float:right;top:12px;font-size:18px;transition:0.2s ease-in-out;}}a{text-decoration:none;color:",o.winterSky,";&:hover{color:",o.sky,";}}main{width:85%;max-width:700px;min-height:95vh;margin:0 auto;padding:20px 0 80px;h3{color:",o.black,";}p{color:",o.fontLightGray,";}@include media('medium'){width:92%;}}h1{display:inline-block;margin-bottom:40px;font-size:34px;color:",o.indigo,";border-bottom:6px solid ",o.glass,";}footer{padding:15px;text-align:right;background:",o.indigo,";img{width:80px;}}","")}}]);
//# sourceMappingURL=component---src-pages-index-tsx-cf8b887f60938ec22013.js.map