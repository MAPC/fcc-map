/*! For license information please see component---src-pages-index-tsx-e3063ee28847d2850348.js.LICENSE.txt */
(self.webpackChunkfcc_map=self.webpackChunkfcc_map||[]).push([[691],{5087:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,p=Math.abs,f=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=m((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=m((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function E(t,e){return t===s?e:t}function T(t,e,n){g(C(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){g(C(e),(function(e){t.removeEventListener(e,n,!1)}))}function x(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];P(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function j(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return s}var L=1;function z(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var A="ontouchstart"in i,D=j(i,"PointerEvent")!==s,I=A&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",F="mouse",Z=24,B=["x","y"],U=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function W(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=H(e));i>1&&!n.firstMultiple?n.firstMultiple=H(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=e.center=q(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(u,c),e.distance=G(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=X(e.deltaX,e.deltaY);var l=Y(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=p(l.x)>p(l.y)?l.x:l.y,e.scale=a?(h=a.pointers,d=r,G(d[0],d[1],U)/G(h[0],h[1],U)):1,e.rotation=a?function(t,e){return K(e[1],e[0],U)+K(t[1],t[0],U)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=Y(u,c,l);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=X(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,d;var v=t.element;x(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function q(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function Y(t,e,n){return{x:e/t||0,y:n/t||0}}function X(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function G(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){n||(n=B);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(z(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Q="mousemove mouseup";function tt(){this.evEl=J,this.evWin=Q,this.pressed=!1,V.apply(this,arguments)}_(tt,V,{handler:function(t){var e=$[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:F,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:N,3:"pen",4:F,5:"kinect"},rt="pointerdown",it="pointermove pointerup pointercancel";function ot(){this.evEl=rt,this.evWin=it,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(rt="MSPointerDown",it="MSPointerMove MSPointerUp MSPointerCancel"),_(ot,V,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=et[r],o=nt[t.pointerType]||t.pointerType,a=o==N,s=P(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",ut="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=st,this.evWin=ut,this.started=!1,V.apply(this,arguments)}function lt(t,e){var n=O(t.touches),r=O(t.changedTouches);return 12&e&&(n=R(n.concat(r),"identifier",!0)),[n,r]}_(ct,V,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}}});var ht={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pt="touchstart touchmove touchend touchcancel";function ft(){this.evTarget=pt,this.targetIds={},V.apply(this,arguments)}function dt(t,e){var n=O(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return x(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}_(ft,V,{handler:function(t){var e=ht[t.type],n=dt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}});function vt(){V.apply(this,arguments);var t=w(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function gt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,mt.call(this,e)):12&t&&mt.call(this,e)}function mt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function yt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(vt,V,{handler:function(t,e,n){var r=n.pointerType==N,i=n.pointerType==F;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)gt.call(this,e,n);else if(i&&yt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=j(l.style,"touchAction"),_t=bt!==s,wt="compute",kt="auto",Et="manipulation",Tt="none",St="pan-x",xt="pan-y",Mt=function(){if(!_t)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function Ct(t,e){this.manager=t,this.set(e)}Ct.prototype={set:function(t){t==wt&&(t=this.compute()),_t&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(M(t,Tt))return Tt;var e=M(t,St),n=M(t,xt);if(e&&n)return Tt;if(e||n)return e?St:xt;if(M(t,Et))return Et;return kt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=M(r,Tt)&&!Mt.none,o=M(r,xt)&&!Mt["pan-y"],a=M(r,St)&&!Mt["pan-x"];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&6&n||a&&n&Z?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Pt=32;function Ot(t){this.options=u({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Rt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function jt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Lt(t,e){var n=e.manager;return n?n.get(t):t}function zt(){Ot.apply(this,arguments)}function At(){zt.apply(this,arguments),this.pX=null,this.pY=null}function Dt(){zt.apply(this,arguments)}function It(){Ot.apply(this,arguments),this._timer=null,this._input=null}function Nt(){zt.apply(this,arguments)}function Ft(){zt.apply(this,arguments)}function Zt(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Bt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Bt.defaults.preset),new Ut(t,e)}Ot.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=Lt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=Lt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Rt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Rt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Pt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=Pt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(zt,Ot,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:Pt}}),_(At,zt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(xt),t&Z&&e.push(St),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return zt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=jt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(Dt,zt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(It,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Pt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(Nt,zt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Ft,zt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return At.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&Z&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=jt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Zt,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Pt},failTimeout:function(){return this._timer=d((function(){this.state=Pt}),this.options.interval,this),Pt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Bt.VERSION="2.0.7",Bt.defaults={domEvents:!1,touchAction:wt,enable:!0,inputTarget:null,inputClass:null,preset:[[Nt,{enable:!1}],[Dt,{enable:!1},["rotate"]],[Ft,{direction:6}],[At,{direction:6},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[It]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ut(t,e){var n;this.options=u({},Bt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(D?ot:I?ft:A?vt:tt))(n,W),this.touchAction=new Ct(this,this.options.touchAction),Vt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Vt(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,o){n=j(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ut.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ot)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=P(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(C(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(C(t),(function(t){e?n[t]&&n[t].splice(P(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Bt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Pt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:Z,DIRECTION_ALL:30,Manager:Ut,Input:V,TouchAction:Ct,TouchInput:ft,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:vt,SingleTouchInput:ct,Recognizer:Ot,AttrRecognizer:zt,Tap:Zt,Pan:At,Swipe:Ft,Pinch:Dt,Rotate:Nt,Press:It,on:T,off:S,each:g,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:j}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Bt,(r=function(){return Bt}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},2993:function(t){var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(u=s;0!=u--;)if(!o(t[u],a[u]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=t.entries();!(u=l.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(u=s;0!=u--;)if(t[u]!==a[u])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(u=s;0!=u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(e&&t instanceof Element)return!1;for(u=s;0!=u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!t.$$typeof)&&!o(t[c[u]],a[c[u]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4839:function(t,e,n){"use strict";var r,i=n(7294),o=(r=i)&&"object"==typeof r&&"default"in r?r.default:r;function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,n){if("function"!=typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var u,c=[];function l(){u=t(c.map((function(t){return t.props}))),h.canUseDOM?e(u):n&&(u=n(u))}var h=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=u;return u=void 0,c=[],t};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),l()},a.componentDidUpdate=function(){l()},a.componentWillUnmount=function(){var t=c.indexOf(this);c.splice(t,1),l()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(h,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(r)+")"),a(h,"canUseDOM",s),h}}},9316:function(t,e,n){var r=n(7294);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=r.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},r.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),a=r.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},r.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function s(t){if(7===t.length)return t;for(var e="#",n=1;n<4;n+=1)e+=t[n]+t[n];return e}function u(t,e,n,r,i){return function(t,e,n,r,i){var o=(t-n)/(e-n);if(0===o)return r;if(1===o)return i;for(var a="#",s=1;s<6;s+=2){var u=parseInt(r.substr(s,2),16),c=parseInt(i.substr(s,2),16),l=Math.round((1-o)*u+o*c).toString(16);1===l.length&&(l="0"+l),a+=l}return a}(t,e,n,s(r),s(i))}var c=function(t){function e(e){t.call(this,e);var n=e.height,r=e.width,i=e.checked;this.t=e.handleDiameter||n-2,this.i=Math.max(r-n,r-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.W=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.W=!1},e.prototype.I=function(t){this.H.focus(),this.setState({R:t,j:!0,B:Date.now()})},e.prototype.L=function(t){var e=this.state,n=e.R,r=e.h,i=(this.props.checked?this.i:this.o)+t-n;e.N||t===n||this.setState({N:!0});var o=Math.min(this.i,Math.max(this.o,i));o!==r&&this.setState({h:o})},e.prototype.U=function(t){var e=this.state,n=e.h,r=e.N,i=e.B,o=this.props.checked,a=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var s=Date.now()-i;(!r||s<250||o&&n<=a||!o&&n>=a)&&this.A(t),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),"number"==typeof t.button&&0!==t.button||(this.I(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},e.prototype.v=function(t){t.preventDefault(),this.L(t.clientX)},e.prototype.g=function(t){this.U(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},e.prototype.k=function(t){this.X=null,this.I(t.touches[0].clientX)},e.prototype.M=function(t){this.L(t.touches[0].clientX)},e.prototype.m=function(t){t.preventDefault(),this.U(t)},e.prototype.$=function(t){Date.now()-this.l>50&&(this.A(t),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},e.prototype.C=function(){this.u=Date.now()},e.prototype.D=function(){this.setState({j:!0})},e.prototype.O=function(){this.setState({j:!1})},e.prototype.S=function(t){this.H=t},e.prototype.T=function(t){t.preventDefault(),this.H.focus(),this.A(t),this.W&&this.setState({j:!1})},e.prototype.A=function(t){var e=this.props;(0,e.onChange)(!e.checked,t,e.id)},e.prototype.render=function(){var t=this.props,e=t.checked,n=t.disabled,o=t.className,a=t.offColor,s=t.onColor,c=t.offHandleColor,l=t.onHandleColor,h=t.checkedIcon,p=t.uncheckedIcon,f=t.checkedHandleIcon,d=t.uncheckedHandleIcon,v=t.boxShadow,g=t.activeBoxShadow,m=t.height,y=t.width,b=t.borderRadius,_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),w=this.state,k=w.h,E=w.N,T=w.j,S={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:m/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},x={height:m,width:y,margin:Math.max(0,(this.t-m)/2),position:"relative",background:u(k,this.i,this.o,a,s),borderRadius:"number"==typeof b?b:m/2,cursor:n?"default":"pointer",WebkitTransition:E?null:"background 0.25s",MozTransition:E?null:"background 0.25s",transition:E?null:"background 0.25s"},M={height:m,width:Math.min(1.5*m,y-(this.t+m)/2+1),position:"relative",opacity:(k-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:E?null:"opacity 0.25s",MozTransition:E?null:"opacity 0.25s",transition:E?null:"opacity 0.25s"},C={height:m,width:Math.min(1.5*m,y-(this.t+m)/2+1),position:"absolute",opacity:1-(k-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:E?null:"opacity 0.25s",MozTransition:E?null:"opacity 0.25s",transition:E?null:"opacity 0.25s"},P={height:this.t,width:this.t,background:u(k,this.i,this.o,c,l),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"number"==typeof b?b-1:"50%",position:"absolute",transform:"translateX("+k+"px)",top:Math.max(0,(m-this.t)/2),outline:0,boxShadow:T?g:v,border:0,WebkitTransition:E?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:E?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:E?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},O={height:this.t,width:this.t,opacity:Math.max(2*(1-(k-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:E?null:"opacity 0.25s",MozTransition:E?null:"opacity 0.25s",transition:E?null:"opacity 0.25s"},R={height:this.t,width:this.t,opacity:Math.max(2*((k-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:E?null:"opacity 0.25s",MozTransition:E?null:"opacity 0.25s",transition:E?null:"opacity 0.25s"};return r.createElement("div",{className:o,style:S},r.createElement("div",{className:"react-switch-bg",style:x,onClick:n?null:this.T,onMouseDown:function(t){return t.preventDefault()}},h&&r.createElement("div",{style:M},h),p&&r.createElement("div",{style:C},p)),r.createElement("div",{className:"react-switch-handle",style:P,onClick:function(t){return t.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.M,onTouchEnd:n?null:this.m,onTouchCancel:n?null:this.O},d&&r.createElement("div",{style:O},d),f&&r.createElement("div",{style:R},f)),r.createElement("input",i({},{type:"checkbox",role:"switch","aria-checked":e,checked:e,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},_,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},e}(r.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:o,checkedIcon:a,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},e.default=c},7534:function(t,e,n){t.exports=n(9316)},5438:function(t,e,n){var r=n(2109),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=o(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(i)}})},2435:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return fo}});var r,i,o,a,s=n(7294),u=n(5734),c=n(5697),l=n.n(c),h=n(4839),p=n.n(h),f=n(2993),d=n.n(f),v=n(6494),g=n.n(v),m="bodyAttributes",y="htmlAttributes",b="titleAttributes",_={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},w=(Object.keys(_).map((function(t){return _[t]})),"charset"),k="cssText",E="href",T="http-equiv",S="innerHTML",x="itemprop",M="name",C="property",P="rel",O="src",R="target",j={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},L="defaultTitle",z="defer",A="encodeSpecialCharacters",D="onChangeClientState",I="titleTemplate",N=Object.keys(j).reduce((function(t,e){return t[j[e]]=e,t}),{}),F=[_.NOSCRIPT,_.SCRIPT,_.STYLE],Z="data-react-helmet",B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},V=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},q=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Y=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===e?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},X=function(t){var e=Q(t,_.TITLE),n=Q(t,I);if(n&&e)return n.replace(/%s/g,(function(){return Array.isArray(e)?e.join(""):e}));var r=Q(t,L);return e||r||void 0},G=function(t){return Q(t,D)||function(){}},K=function(t,e){return e.filter((function(e){return void 0!==e[t]})).map((function(e){return e[t]})).reduce((function(t,e){return W({},t,e)}),{})},$=function(t,e){return e.filter((function(t){return void 0!==t[_.BASE]})).map((function(t){return t[_.BASE]})).reverse().reduce((function(e,n){if(!e.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==t.indexOf(o)&&n[o])return e.concat(n)}return e}),[])},J=function(t,e,n){var r={};return n.filter((function(e){return!!Array.isArray(e[t])||(void 0!==e[t]&&it("Helmet: "+t+' should be of type "Array". Instead found type "'+B(e[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(t,n){var i={};n.filter((function(t){for(var n=void 0,o=Object.keys(t),a=0;a<o.length;a++){var s=o[a],u=s.toLowerCase();-1===e.indexOf(u)||n===P&&"canonical"===t[n].toLowerCase()||u===P&&"stylesheet"===t[u].toLowerCase()||(n=u),-1===e.indexOf(s)||s!==S&&s!==k&&s!==x||(n=s)}if(!n||!t[n])return!1;var c=t[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(e){return t.push(e)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=g()({},r[s],i[s]);r[s]=u}return t}),[]).reverse()},Q=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.hasOwnProperty(e))return r[e]}return null},tt=(r=Date.now(),function(t){var e=Date.now();e-r>16?(r=e,t(e)):setTimeout((function(){tt(t)}),0)}),et=function(t){return clearTimeout(t)},nt="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||tt:n.g.requestAnimationFrame||tt,rt="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||et:n.g.cancelAnimationFrame||et,it=function(t){return console&&"function"==typeof console.warn&&console.warn(t)},ot=null,at=function(t,e){var n=t.baseTag,r=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,s=t.noscriptTags,u=t.onChangeClientState,c=t.scriptTags,l=t.styleTags,h=t.title,p=t.titleAttributes;ct(_.BODY,r),ct(_.HTML,i),ut(h,p);var f={baseTag:lt(_.BASE,n),linkTags:lt(_.LINK,o),metaTags:lt(_.META,a),noscriptTags:lt(_.NOSCRIPT,s),scriptTags:lt(_.SCRIPT,c),styleTags:lt(_.STYLE,l)},d={},v={};Object.keys(f).forEach((function(t){var e=f[t],n=e.newTags,r=e.oldTags;n.length&&(d[t]=n),r.length&&(v[t]=f[t].oldTags)})),e&&e(),u(t,d,v)},st=function(t){return Array.isArray(t)?t.join(""):t},ut=function(t,e){void 0!==t&&document.title!==t&&(document.title=st(t)),ct(_.TITLE,e)},ct=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute(Z),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(e),s=0;s<a.length;s++){var u=a[s],c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),-1===i.indexOf(u)&&i.push(u);var l=o.indexOf(u);-1!==l&&o.splice(l,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(Z):n.getAttribute(Z)!==a.join(",")&&n.setAttribute(Z,a.join(","))}},lt=function(t,e){var n=document.head||document.querySelector(_.HEAD),r=n.querySelectorAll(t+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return e&&e.length&&e.forEach((function(e){var n=document.createElement(t);for(var r in e)if(e.hasOwnProperty(r))if(r===S)n.innerHTML=e.innerHTML;else if(r===k)n.styleSheet?n.styleSheet.cssText=e.cssText:n.appendChild(document.createTextNode(e.cssText));else{var s=void 0===e[r]?"":e[r];n.setAttribute(r,s)}n.setAttribute(Z,"true"),i.some((function(t,e){return a=e,n.isEqualNode(t)}))?i.splice(a,1):o.push(n)})),i.forEach((function(t){return t.parentNode.removeChild(t)})),o.forEach((function(t){return n.appendChild(t)})),{oldTags:i,newTags:o}},ht=function(t){return Object.keys(t).reduce((function(e,n){var r=void 0!==t[n]?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r}),"")},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[j[n]||n]=t[n],e}),e)},ft=function(t,e,n){switch(t){case _.TITLE:return{toComponent:function(){return t=e.title,n=e.titleAttributes,(r={key:t})[Z]=!0,i=pt(n,r),[s.createElement(_.TITLE,i,t)];var t,n,r,i},toString:function(){return function(t,e,n,r){var i=ht(n),o=st(e);return i?"<"+t+' data-react-helmet="true" '+i+">"+Y(o,r)+"</"+t+">":"<"+t+' data-react-helmet="true">'+Y(o,r)+"</"+t+">"}(t,e.title,e.titleAttributes,n)}};case m:case y:return{toComponent:function(){return pt(e)},toString:function(){return ht(e)}};default:return{toComponent:function(){return function(t,e){return e.map((function(e,n){var r,i=((r={key:n})[Z]=!0,r);return Object.keys(e).forEach((function(t){var n=j[t]||t;if(n===S||n===k){var r=e.innerHTML||e.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=e[t]})),s.createElement(t,i)}))}(t,e)},toString:function(){return function(t,e,n){return e.reduce((function(e,r){var i=Object.keys(r).filter((function(t){return!(t===S||t===k)})).reduce((function(t,e){var i=void 0===r[e]?e:e+'="'+Y(r[e],n)+'"';return t?t+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===F.indexOf(t);return e+"<"+t+' data-react-helmet="true" '+i+(a?"/>":">"+o+"</"+t+">")}),"")}(t,e,n)}}}},dt=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,s=t.noscriptTags,u=t.scriptTags,c=t.styleTags,l=t.title,h=void 0===l?"":l,p=t.titleAttributes;return{base:ft(_.BASE,e,r),bodyAttributes:ft(m,n,r),htmlAttributes:ft(y,i,r),link:ft(_.LINK,o,r),meta:ft(_.META,a,r),noscript:ft(_.NOSCRIPT,s,r),script:ft(_.SCRIPT,u,r),style:ft(_.STYLE,c,r),title:ft(_.TITLE,{title:h,titleAttributes:p},r)}},vt=p()((function(t){return{baseTag:$([E,R],t),bodyAttributes:K(m,t),defer:Q(t,z),encode:Q(t,A),htmlAttributes:K(y,t),linkTags:J(_.LINK,[P,E],t),metaTags:J(_.META,[M,w,T,C,x],t),noscriptTags:J(_.NOSCRIPT,[S],t),onChangeClientState:G(t),scriptTags:J(_.SCRIPT,[O,S],t),styleTags:J(_.STYLE,[k],t),title:X(t),titleAttributes:K(b,t)}}),(function(t){ot&&rt(ot),t.defer?ot=nt((function(){at(t,(function(){ot=null}))})):(at(t),ot=null)}),dt)((function(){return null})),gt=(i=vt,a=o=function(t){function e(){return U(this,e),q(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return!d()(this.props,t)},e.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case _.SCRIPT:case _.NOSCRIPT:return{innerHTML:e};case _.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},e.prototype.flattenArrayTypeChildren=function(t){var e,n=t.child,r=t.arrayTypeChildren,i=t.newChildProps,o=t.nestedChildren;return W({},r,((e={})[n.type]=[].concat(r[n.type]||[],[W({},i,this.mapNestedChildrenToProps(n,o))]),e))},e.prototype.mapObjectTypeChildren=function(t){var e,n,r=t.child,i=t.newProps,o=t.newChildProps,a=t.nestedChildren;switch(r.type){case _.TITLE:return W({},i,((e={})[r.type]=a,e.titleAttributes=W({},o),e));case _.BODY:return W({},i,{bodyAttributes:W({},o)});case _.HTML:return W({},i,{htmlAttributes:W({},o)})}return W({},i,((n={})[r.type]=W({},o),n))},e.prototype.mapArrayTypeChildrenToProps=function(t,e){var n=W({},e);return Object.keys(t).forEach((function(e){var r;n=W({},n,((r={})[e]=t[e],r))})),n},e.prototype.warnOnInvalidChildren=function(t,e){return!0},e.prototype.mapChildrenToProps=function(t,e){var n=this,r={};return s.Children.forEach(t,(function(t){if(t&&t.props){var i=t.props,o=i.children,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,n){return e[N[n]||n]=t[n],e}),e)}(H(i,["children"]));switch(n.warnOnInvalidChildren(t,o),t.type){case _.LINK:case _.META:case _.NOSCRIPT:case _.SCRIPT:case _.STYLE:r=n.flattenArrayTypeChildren({child:t,arrayTypeChildren:r,newChildProps:a,nestedChildren:o});break;default:e=n.mapObjectTypeChildren({child:t,newProps:e,newChildProps:a,nestedChildren:o})}}})),e=this.mapArrayTypeChildrenToProps(r,e)},e.prototype.render=function(){var t=this.props,e=t.children,n=H(t,["children"]),r=W({},n);return e&&(r=this.mapChildrenToProps(e,r)),s.createElement(i,r)},V(e,null,[{key:"canUseDOM",set:function(t){i.canUseDOM=t}}]),e}(s.Component),o.propTypes={base:l().object,bodyAttributes:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node]),defaultTitle:l().string,defer:l().bool,encodeSpecialCharacters:l().bool,htmlAttributes:l().object,link:l().arrayOf(l().object),meta:l().arrayOf(l().object),noscript:l().arrayOf(l().object),onChangeClientState:l().func,script:l().arrayOf(l().object),style:l().arrayOf(l().object),title:l().string,titleAttributes:l().object,titleTemplate:l().string},o.defaultProps={defer:!0,encodeSpecialCharacters:!0},o.peek=i.peek,o.rewind=function(){var t=i.rewind();return t||(t=dt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},a);gt.renderStatic=gt.rewind;var mt="Avenir Next",yt="#f2f5fb",bt="#252b6d",_t="#FFFFFF",wt="#545454",kt={name:"1xclg2i",styles:"margin:0;padding:0"},Et=function(t){var e=t.children;return(0,u.tZ)(s.Fragment,null,(0,u.tZ)(u.xB,{styles:(0,u.iv)("@import url(\"//hello.myfonts.net/count/37908e\");{}@font-face{font-family:'Avenir Next';src:url('fonts/AvenirNextLTPro-Regular.otf') format('truetype');font-style:normal;font-weight:normal;}@font-face{font-family:'Swift Neue LT Pro';src:url('fonts/SwiftNeueLTPro.eot') format('eot');src:local('Swift Neue LT Pro'),url('fonts/SwiftNeueLTPro.eot?#iefix') format('embedded-opentype'),url('fonts/SwiftNeueLTPro.woff2') format('woff2'),url('fonts/SwiftNeueLTPro.woff') format('woff'),url('fonts/SwiftNeueLTPro.ttf') format('truetype');font-style:normal;font-weight:normal;}@font-face{font-family:'Calibre';src:url('./fonts/Calibre-Regular.eot');src:local('Calibre'),local('Calibre-Regular'),url('./fonts/Calibre-Regular.eot?#iefix') format('embedded-opentype'),url('./fonts/Calibre-Regular.woff2') format('woff2'),url('./fonts/Calibre-Regular.woff') format('woff'),url('./fonts/Calibre-Regular.ttf') format('truetype');font-weight:normal;font-style:normal;}html{font-size:10px;height:100%;margin:0;}body{color:",wt,";font-family:",mt,";height:100%;margin:0;h1{color:",bt,";font-size:3rem;}h2{color:",bt,";font-size:1.7rem;}h3{font-size:1.7rem;}p,li{font-size:1.5rem;margin:0;}}#___gatsby,#gatsby-focus-wrapper{height:100%;}","")}),e)},Tt=n(7462);function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e,n){return e&&Mt(t.prototype,e),n&&Mt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Pt=n(9611);function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,Pt.Z)(t,e)}function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xt(t)}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function It(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ft=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zt(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=It(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(a){r.e(a)}finally{r.f()}var o=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=Dt({},t)).interactive,e){delete(r=r||Dt({},t)).ref;var i,o=It(Ft);try{for(o.s();!(i=o.n()).done;){var s=i.value;s in e&&(r[s]=e[s])}}catch(a){o.e(a)}finally{o.f()}}return r||t}));return Dt(Dt({},t),{},{layers:o})}var Bt=n(2982);var Ut=n(181);function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||(0,Ut.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(5438);var Wt=1e-6,Ht="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var qt,Yt;qt=new Ht(4),Ht!=Float32Array&&(qt[0]=0,qt[1]=0,qt[2]=0,qt[3]=0),Yt=qt;function Xt(t,e){var n=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}([],e,t);return function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n}(n,n,1/n[3]),n}function Gt(t,e){var n=t%e;return n<0?e+n:n}function Kt(t,e,n){return n*e+(1-n)*t}function $t(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],_=n[1],w=n[2],k=n[3];return t[0]=b*r+_*s+w*h+k*v,t[1]=b*i+_*u+w*p+k*g,t[2]=b*o+_*c+w*f+k*m,t[3]=b*a+_*l+w*d+k*y,b=n[4],_=n[5],w=n[6],k=n[7],t[4]=b*r+_*s+w*h+k*v,t[5]=b*i+_*u+w*p+k*g,t[6]=b*o+_*c+w*f+k*m,t[7]=b*a+_*l+w*d+k*y,b=n[8],_=n[9],w=n[10],k=n[11],t[8]=b*r+_*s+w*h+k*v,t[9]=b*i+_*u+w*p+k*g,t[10]=b*o+_*c+w*f+k*m,t[11]=b*a+_*l+w*d+k*y,b=n[12],_=n[13],w=n[14],k=n[15],t[12]=b*r+_*s+w*h+k*v,t[13]=b*i+_*u+w*p+k*g,t[14]=b*o+_*c+w*f+k*m,t[15]=b*a+_*l+w*d+k*y,t}function Jt(t,e,n){var r,i,o,a,s,u,c,l,h,p,f,d,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=r*v+s*g+h*m+e[12],t[13]=i*v+u*g+p*m+e[13],t[14]=o*v+c*g+f*m+e[14],t[15]=a*v+l*g+d*m+e[15]),t}function Qt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function te(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],p=t[10],f=t[11],d=t[12],v=t[13],g=t[14],m=t[15],y=e[0],b=e[1],_=e[2],w=e[3],k=e[4],E=e[5],T=e[6],S=e[7],x=e[8],M=e[9],C=e[10],P=e[11],O=e[12],R=e[13],j=e[14],L=e[15];return Math.abs(n-y)<=Wt*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-b)<=Wt*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=Wt*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=Wt*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-k)<=Wt*Math.max(1,Math.abs(a),Math.abs(k))&&Math.abs(s-E)<=Wt*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-T)<=Wt*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-S)<=Wt*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(l-x)<=Wt*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(h-M)<=Wt*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(p-C)<=Wt*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-P)<=Wt*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(d-O)<=Wt*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(v-R)<=Wt*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(g-j)<=Wt*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(m-L)<=Wt*Math.max(1,Math.abs(m),Math.abs(L))}function ee(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ne(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function re(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function ie(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var oe=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new Ht(2);return Ht!=Float32Array&&(t[0]=0,t[1]=0),t}()}();!function(){var t=function(){var t=new Ht(3);return Ht!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function ae(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}var se=Math.PI,ue=se/4,ce=se/180,le=180/se,he=512;function pe(t){return Math.pow(2,t)}function fe(t){return Math.log2(t)}function de(t){var e=Vt(t,2),n=e[0],r=e[1];ae(Number.isFinite(n)),ae(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*ce;return[he*(n*ce+se)/(2*se),he*(se+Math.log(Math.tan(ue+.5*i)))/(2*se)]}function ve(t){var e=Vt(t,2),n=e[0],r=e[1],i=n/he*(2*se)-se,o=2*(Math.atan(Math.exp(r/he*(2*se)-se))-ue);return[i*le,o*le]}function ge(t){var e=t.latitude,n=t.longitude,r=t.highPrecision,i=void 0!==r&&r;ae(Number.isFinite(e)&&Number.isFinite(n));var o={},a=Math.cos(e*ce),s=512/360,u=s/a,c=12790407194604047e-21/a;if(o.unitsPerMeter=[c,c,c],o.metersPerUnit=[1/c,1/c,1/c],o.unitsPerDegree=[s,u,c],o.degreesPerUnit=[.703125,1/u,1/c],i){var l=ce*Math.tan(e*ce)/a,h=s*l/2,p=12790407194604047e-21*l,f=p/u*c;o.unitsPerDegree2=[0,h,p],o.unitsPerMeter2=[f,0,f]}return o}function me(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.scale,a=t.center,s=void 0===a?null:a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Jt(u,u,[0,0,-i]),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],p=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+h*r,t[7]=u*i+p*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=h*i-s*r,t[11]=p*i-u*r}(u,u,-n*ce),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],p=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+h*r,t[3]=u*i+p*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=h*i-s*r,t[7]=p*i-u*r}(u,u,r*ce),Qt(u,u,[o/=e,o,o]),s&&Jt(u,u,function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}([],s)),u}function ye(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,c=t.farZMultiplier,l=void 0===c?1:c,h=a*ce,p=Math.atan(.5/i),f=Math.sin(p)*i/Math.sin(Math.min(Math.max(Math.PI/2-h-p,.01),Math.PI-.01));return{fov:2*p,aspect:e/n,focalDistance:i,near:u,far:(Math.sin(h)*f+i)*l}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}([],i.fov,i.aspect,i.near,i.far)}function be(t,e){var n=Vt(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return ae(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),Xt(e,[r,i,a,1])}function _e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Vt(t,3),i=r[0],o=r[1],a=r[2];if(ae(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=Xt(e,[i,o,a,1]);return s}var u=Xt(e,[i,o,0,1]),c=Xt(e,[i,o,1,1]),l=u[2],h=c[2],p=l===h?0:((n||0)-l)/(h-l);return ie([],u,c,p)}function we(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,c=void 0===u?0:u,l=t.offset,h=void 0===l?[0,0]:l,p=Vt(r,2),f=Vt(p[0],2),d=f[0],v=f[1],g=Vt(p[1],2),m=g[0],y=g[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else ae(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var b=new Se({width:e,height:n,longitude:0,latitude:0,zoom:0}),_=b.project([d,y]),w=b.project([m,v]),k=[Math.max(Math.abs(w[0]-_[0]),o),Math.max(Math.abs(w[1]-_[1]),o)],E=[e-c.left-c.right-2*Math.abs(h[0]),n-c.top-c.bottom-2*Math.abs(h[1])];ae(E[0]>0&&E[1]>0);var T=E[0]/k[0],S=E[1]/k[1],x=(c.right-c.left)/2/T,M=(c.bottom-c.top)/2/S,C=[(w[0]+_[0])/2+x,(w[1]+_[1])/2+M],P=b.unproject(C),O=Math.min(s,b.zoom+Math.log2(Math.abs(Math.min(T,S))));return ae(Number.isFinite(O)),{longitude:P[0],latitude:P[1],zoom:O}}var ke=Math.PI/180;function Ee(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.width,o=t.height,a=t.unproject,s={targetZ:r},u=a([0,o],s),c=a([i,o],s),l=Math.atan(.5/t.altitude),h=(90-t.pitch)*ke;return l>h-.01?(e=Te(t,0,r),n=Te(t,i,r)):(e=a([0,0],s),n=a([i,0],s)),[u,c,n,e]}function Te(t,e,n){var r=t.pixelUnprojectionMatrix,i=Xt(r,[e,0,1,1]),o=Xt(r,[e,t.height,1,1]),a=ve(ie([],i,o,(n*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a[2]=n,a}var Se=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,s=void 0===a?0:a,u=e.zoom,c=void 0===u?0:u,l=e.pitch,h=void 0===l?0:l,p=e.bearing,f=void 0===p?0:p,d=e.altitude,v=void 0===d?1.5:d,g=e.nearZMultiplier,m=void 0===g?.02:g,y=e.farZMultiplier,b=void 0===y?1.01:y;St(this,t),n=n||1,r=r||1;var _=pe(c);v=Math.max(.75,v);var w=de([s,o]);w[2]=0,this.projectionMatrix=ye({width:n,height:r,pitch:h,altitude:v,nearZMultiplier:m,farZMultiplier:b}),this.viewMatrix=me({height:r,scale:_,center:w,pitch:h,bearing:f,altitude:v}),this.width=n,this.height=r,this.scale=_,this.latitude=o,this.longitude=s,this.zoom=c,this.pitch=h,this.bearing=f,this.altitude=v,this.center=w,this.distanceScales=ge(this),this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return Ct(t,[{key:"_initMatrices",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];$t(i,i,n),$t(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Qt(o,o,[t/2,-e/2,1]),Jt(o,o,[1,-1,0]),$t(o,o,i);var a=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],f=e[11],d=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,b=n*u-i*a,_=n*c-o*a,w=r*u-i*s,k=r*c-o*s,E=i*c-o*u,T=l*v-h*d,S=l*g-p*d,x=l*m-f*d,M=h*g-p*v,C=h*m-f*v,P=p*m-f*g,O=y*P-b*C+_*M+w*x-k*S+E*T;return O?(O=1/O,t[0]=(s*P-u*C+c*M)*O,t[1]=(i*C-r*P-o*M)*O,t[2]=(v*E-g*k+m*w)*O,t[3]=(p*k-h*E-f*w)*O,t[4]=(u*x-a*P-c*S)*O,t[5]=(n*P-i*x+o*S)*O,t[6]=(g*_-d*E-m*b)*O,t[7]=(l*E-p*_+f*b)*O,t[8]=(a*C-s*x+c*T)*O,t[9]=(r*x-n*C-o*T)*O,t[10]=(d*k-v*_+m*y)*O,t[11]=(h*_-l*k-f*y)*O,t[12]=(s*S-a*M-u*T)*O,t[13]=(n*M-r*S+i*T)*O,t[14]=(v*b-d*w-g*y)*O,t[15]=(l*w-h*b+p*y)*O,t):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&te(e.projectionMatrix,this.projectionMatrix)&&te(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=be(i,this.pixelProjectionMatrix),a=Vt(o,2),s=a[0],u=a[1],c=r?u:this.height-u;return 2===t.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=void 0===i?void 0:i,a=Vt(t,3),s=a[0],u=a[1],c=a[2],l=r?u:this.height-u,h=o&&o*this.distanceScales.unitsPerMeter[2],p=_e([s,l,c],this.pixelUnprojectionMatrix,h),f=this.unprojectPosition(p),d=Vt(f,3),v=d[0],g=d[1],m=d[2];return Number.isFinite(c)?[v,g,m]:Number.isFinite(o)?[v,g,o]:[v,g]}},{key:"projectPosition",value:function(t){var e=Vt(de(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=Vt(ve(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){return de(t)}},{key:"unprojectFlat",value:function(t){return ve(t)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=_e(t.pos,this.pixelUnprojectionMatrix),r=ee([],de(e),function(t,e){return t[0]=-e[0],t[1]=-e[1],t}([],n));return ve(ee([],this.center,r))}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=we(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,(0,Bt.Z)(e.map((function(t){return t[0]})))),r=Math.max.apply(Math,(0,Bt.Z)(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,(0,Bt.Z)(e.map((function(t){return t[1]}))))],[r,Math.max.apply(Math,(0,Bt.Z)(e.map((function(t){return t[1]}))))]]}},{key:"getBoundingRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ee(this,t.z||0)}}]),t}(),xe=85.05113,Me=-85.05113;function Ce(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Oe=.01,Re=["longitude","latitude","zoom"],je={curve:1.414,speed:1.2};function Le(t,e,n){var r=(n=Object.assign({},je,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],a=pe(i),s=e.zoom,u=[e.longitude,e.latitude],c=pe(s-i),l=de(o),h=de(u),p=oe([],h,l),f=Math.max(t.width,t.height),d=f/c,v=re(p)*a,g=Math.max(v,Oe),m=r*r,y=(d*d-f*f+m*m*g*g)/(2*f*m*g),b=(d*d-f*f-m*m*g*g)/(2*d*m*g),_=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:i,startCenterXY:l,uDelta:p,w0:f,u1:v,S:(w-_)/r,rho:r,rho2:m,r0:_,r1:w}}function ze(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var r,i,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},function(t){return i(t)}),s=(r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout,function(t){return r(t)}),u=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;u(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},l=!1,h="",p="animationstart",f="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=document.createElement("fakeelement");if(void 0!==v.style.animationName&&(l=!0),!1===l)for(var g=0;g<f.length;g++)if(void 0!==v.style[f[g]+"AnimationName"]){h="-"+f[g].toLowerCase()+"-",p=d[g],l=!0;break}var m="resizeanim",y="@"+h+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",b=h+"animation: 1ms "+m+"; "}return{addResizeListener:function(n,r){if(o)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var i=n.ownerDocument,a=e.getComputedStyle(n);a&&"static"==a.position&&(n.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(i),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=i.createElement("div")).className="resize-triggers";var s=i.createElement("div");s.className="expand-trigger",s.appendChild(i.createElement("div"));var l=i.createElement("div");l.className="contract-trigger",n.__resizeTriggers__.appendChild(s),n.__resizeTriggers__.appendChild(l),n.appendChild(n.__resizeTriggers__),u(n),n.addEventListener("scroll",c,!0),p&&(n.__resizeTriggers__.__animationListener__=function(t){t.animationName==m&&u(n)},n.__resizeTriggers__.addEventListener(p,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(o)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",c,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(p,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}var Ae=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},De=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Fe=function(t){function e(){var t,n,r;Ae(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Ne(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,p=o-l-h,f=a-u-c;(!e&&r.state.height!==p||!n&&r.state.width!==f)&&(r.setState({height:o-l-h,width:a-u-c}),i({height:o,width:a}))}},r._setRef=function(t){r._autoSizer=t},Ne(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),De(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=ze(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,i=t.disableWidth,o=t.style,a=this.state,u=a.height,c=a.width,l={overflow:"visible"},h={},p=!1;return r||(0===u&&(p=!0),l.height=0,h.height=u),i||(0===c&&(p=!0),l.width=0,h.width=c),(0,s.createElement)("div",{className:n,ref:this._setRef,style:Ie({},l,o)},!p&&e(h))}}]),e}(s.PureComponent);Fe.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Ze=Fe,Be="undefined"!=typeof window?window:n.g,Ue=(void 0!==n.g?n.g:window,"undefined"!=typeof document?document:{});var Ve={container:l().object,gl:l().object,mapboxApiAccessToken:l().string,mapboxApiUrl:l().string,attributionControl:l().bool,preserveDrawingBuffer:l().bool,reuseMaps:l().bool,transformRequest:l().func,mapOptions:l().object,mapStyle:l().oneOfType([l().string,l().object]),visible:l().bool,asyncRender:l().bool,onLoad:l().func,onError:l().func,width:l().number,height:l().number,viewState:l().object,longitude:l().number,latitude:l().number,zoom:l().number,bearing:l().number,pitch:l().number,altitude:l().number},We={container:Ue.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var e=window.location.search.match(/access_token=([^&\/]*)/);t=e&&e[1]}t||"undefined"==typeof process||(t=t||{}.MapboxAccessToken||{}.REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function He(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&l().checkPropTypes(Ve,t,"prop",e)}var qe=function(){function t(e){var n=this;if(St(this,t),zt(this,"mapboxgl",void 0),zt(this,"props",We),zt(this,"_map",null),zt(this,"width",0),zt(this,"height",0),zt(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Ct(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;He(t=Object.assign({},We,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||We.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){He(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,u=void 0===s?0:s,c=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===c?1.5:c}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==Ue)try{var e=Ue.createElement("div");e.className="mapboxgl-map",e.style.display="none",Ue.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=Ue.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),Ue.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();zt(qe,"initialized",!1),zt(qe,"propTypes",Ve),zt(qe,"defaultProps",We),zt(qe,"savedMap",null);var Ye=n(2974),Xe=n.n(Ye);function Ge(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Ke(t,e){if(t===e)return!0;if(Ge(t)&&Ge(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function $e(t,e,n){return Math.max(e,Math.min(n,t))}function Je(t,e,n){return Ge(t)?t.map((function(t,r){return Je(t,e[r],n)})):n*e+(1-n)*t}function Qe(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function tn(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nn=function(){function t(){St(this,t),zt(this,"propNames",[])}return Ct(t,[{key:"arePropsEqual",value:function(t,e){var n,r=tn(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Ke(t[i],e[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){Qe(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),rn={longitude:1,bearing:1};function on(t){return Number.isFinite(t)||Array.isArray(t)}function an(t,e,n){return function(t){return t in rn}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function sn(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var ln=["longitude","latitude","zoom","bearing","pitch"],hn=["latitude","longitude","zoom","width","height"],pn=["bearing","pitch"],fn={speed:1.2,curve:1.414};!function(t){Ot(n,t);var e=cn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St(this,n),zt(xt(t=e.call(this)),"speed",void 0),zt(xt(t),"propNames",ln),zt(xt(t),"props",void 0),t.props=Object.assign({},fn,r),t}Ct(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},o=sn(hn);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],u=e[a];Qe(on(s)&&on(u),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=an(a,s,u)}}catch(d){o.e(d)}finally{o.f()}var c,l=sn(pn);try{for(l.s();!(c=l.n()).done;){var h=c.value,p=t[h]||0,f=e[h]||0;r[h]=p,i[h]=an(h,p,f)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=function(t,e,n){var r={},i=Le(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=i.startZoom,a=i.startCenterXY,s=i.uDelta,u=i.w0,c=i.u1,l=i.S,h=i.rho,p=i.rho2,f=i.r0;if(c<Oe){var d,v=Ce(Re);try{for(v.s();!(d=v.n()).done;){var g=d.value,m=t[g],y=e[g];r[g]=Kt(m,y,n)}}catch(S){v.e(S)}finally{v.f()}return r}var b=n*l,_=Math.cosh(f)/Math.cosh(f+h*b),w=u*((Math.cosh(f)*Math.tanh(f+h*b)-Math.sinh(f))/p)/c,k=o+fe(1/_),E=ne([],s,w);ee(E,E,a);var T=ve(E);return r.longitude=T[0],r.latitude=T[1],r.zoom=k,r}(t,e,n,this.props),o=sn(pn);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Je(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},je,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=Le(t,e,r),c=u.S,l=u.rho,h=1e3*c;return n=Number.isFinite(o)?h/(o/l):h/a,Number.isFinite(s)&&n>s?0:n}(t,e,this.props)),n}}])}(nn);function dn(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var mn=["longitude","latitude","zoom","bearing","pitch"],yn=function(t){Ot(n,t);var e=gn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St(this,n),zt(xt(t=e.call(this)),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||mn,r.around&&(t.around=r.around),t}return Ct(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new Se(t).unproject(this.around);Object.assign(r,e,{around:new Se(e).project(i),aroundLngLat:i})}var o,a=dn(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=t[s],c=e[s];Qe(on(u)&&on(c),"".concat(s," must be supplied for transition")),n[s]=u,r[s]=an(s,u,c)}}catch(l){a.e(l)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},o=dn(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=Je(t[a],e[a],n)}}catch(l){o.e(l)}finally{o.f()}if(e.around){var s=Vt(new Se(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:Je(t.around,e.around,n)}),2),u=s[0],c=s[1];i.longitude=u,i.latitude=c}return i}}]),n}(nn),bn={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},_n=0,wn=0,kn=1.5,En=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,o=e.longitude,a=e.zoom,s=e.bearing,u=void 0===s?wn:s,c=e.pitch,l=void 0===c?_n:c,h=e.altitude,p=void 0===h?kn:h,f=e.maxZoom,d=void 0===f?bn.maxZoom:f,v=e.minZoom,g=void 0===v?bn.minZoom:v,m=e.maxPitch,y=void 0===m?bn.maxPitch:m,b=e.minPitch,_=void 0===b?bn.minPitch:b,w=e.transitionDuration,k=e.transitionEasing,E=e.transitionInterpolator,T=e.transitionInterruption,S=e.startPanLngLat,x=e.startZoomLngLat,M=e.startBearing,C=e.startPitch,P=e.startZoom;St(this,t),zt(this,"_viewportProps",void 0),zt(this,"_interactiveState",void 0),Qe(Number.isFinite(n),"`width` must be supplied"),Qe(Number.isFinite(r),"`height` must be supplied"),Qe(Number.isFinite(o),"`longitude` must be supplied"),Qe(Number.isFinite(i),"`latitude` must be supplied"),Qe(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:u,pitch:l,altitude:p,maxZoom:d,minZoom:g,maxPitch:y,minPitch:_,transitionDuration:w,transitionEasing:k,transitionInterpolator:E,transitionInterruption:T}),this._interactiveState={startPanLngLat:S,startZoomLngLat:x,startBearing:M,startPitch:C,startZoom:P}}return Ct(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=Vt(this._calculateNewLngLat({startPanLngLat:r,pos:e}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),c=u.pitch,l=u.bearing;return this._getUpdatedMapState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;Qe(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),Qe(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),u=Vt(new Se(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),2),c=u[0],l=u[1];return this._getUpdatedMapState({zoom:s,longitude:c,latitude:l})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=$e(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=$e(a,o,i),Object.assign(t,function(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,c=void 0===u?0:u;(r<-180||r>180)&&(r=Gt(r+180,360)-180),(c<-180||c>180)&&(c=Gt(c+180,360)-180);var l=new Se({width:e,height:n,longitude:r,latitude:i,zoom:o}),h=l.project([r,xe])[1],p=l.project([r,Me])[1],f=0;return p-h<n&&(o+=Math.log2(n/(p-h)),h=(l=new Se({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,xe])[1],p=l.project([r,Me])[1]),h>0?f=h:p<n&&(f=p-n),f&&(i=l.unproject([e/2,n/2+f])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:c}}(t)),t}},{key:"_unproject",value:function(t){var e=new Se(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new Se(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return $e(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=$e(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*e}}}]),t}();function Tn(t){return t[0].toLowerCase()+t.slice(1)}var Sn=(0,s.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var Pn="A valid API access token is required to use Mapbox data";var On={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Rn=Object.assign({},qe.propTypes,{width:l().oneOfType([l().number,l().string]),height:l().oneOfType([l().number,l().string]),onResize:l().func,preventStyleDiffing:l().bool,disableTokenWarning:l().bool,visible:l().bool,className:l().string,style:l().object,visibilityConstraints:l().object}),jn=Object.assign({},qe.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:bn}),Ln=function(t){Ot(n,t);var e=Cn(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"state",{accessTokenInvalid:!1}),zt(xt(t),"_mapbox",null),zt(xt(t),"_map",null),zt(xt(t),"_mapboxMapRef",(0,s.createRef)()),zt(xt(t),"_mapContainerRef",(0,s.createRef)()),zt(xt(t),"_queryParams",{}),zt(xt(t),"_width",0),zt(xt(t),"_height",0),zt(xt(t),"getMap",(function(){return t._map})),zt(xt(t),"queryRenderedFeatures",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._map.queryRenderedFeatures(e,n)})),zt(xt(t),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||t.state.accessTokenInvalid||(console.error(Pn),t.setState({accessTokenInvalid:!0})),t.props.onError(e)})),t}return Ct(n,[{key:"componentDidMount",value:function(){if(n.supported()){var t=this.props.mapStyle;this._mapbox=new qe(Object.assign({},this.props,{mapboxgl:Xe(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:Zt(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&n&&this._map.setStyle(Zt(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return s.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},s.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),s.createElement("div",{key:"text"},"For information on setting up your basemap, read"),s.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=t.height;return this._updateMapSize(n,r),s.createElement(Sn.Consumer,null,(function(t){var i=Mn(Mn({},t),{},{viewport:new Se(Mn(Mn(Mn({},e.props),e.props.viewState),{},{width:n,height:r})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return s.createElement(Sn.Provider,{value:i},s.createElement("div",{key:"map-overlays",className:"overlays",style:On},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:n,height:r}),u=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;for(var n in e){var r=n.slice(0,3),i=Tn(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(this.props.viewState||this.props,o),c=Object.assign({},On,{visibility:u?"inherit":"hidden"});return s.createElement("div",{key:"map-container",style:a,ref:this._mapContainerRef},s.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:c,className:e}),s.createElement(Ze,{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return Xe()&&Xe().supported()}}]),n}(s.PureComponent);zt(Ln,"propTypes",Rn),zt(Ln,"defaultProps",jn);var zn=function(){};var An=1,Dn=2,In=3,Nn=4,Fn={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new yn,transitionInterruption:An,onTransitionStart:zn,onTransitionInterrupt:zn,onTransitionEnd:zn,onViewportChange:zn,onStateChange:zn},Zn=function(){function t(e,n){var r=this;St(this,t),zt(this,"props",void 0),zt(this,"state",void 0),zt(this,"time",void 0),zt(this,"_animationFrame",null),zt(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return Ct(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Dn?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Nn)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===In||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){Qe(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,c=(t-n)/r;c>=1&&(c=1,u=!0),c=i(c);var l=o.interpolateProps(a,s,c),h=new En(Object.assign({},this.props,l));this.state.propsInTransition=h.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();zt(Zn,"defaultProps",Fn);var Bn,Un,Vn=n(5087),Wn=n.n(Vn),Hn={mousedown:1,mousemove:2,mouseup:4};Bn=Wn().PointerEventInput,Un=Bn.prototype.handler,Bn.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Un.call(this,t)},Wn().MouseInput.prototype.handler=function(t){var e=Hn[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var qn=Wn().Manager,Yn=Wn(),Xn=Yn?[[Yn.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Yn.Rotate,{enable:!1}],[Yn.Pinch,{enable:!1}],[Yn.Swipe,{enable:!1}],[Yn.Pan,{threshold:0,enable:!1}],[Yn.Press,{enable:!1}],[Yn.Tap,{event:"doubletap",taps:2,enable:!1}],[Yn.Tap,{event:"anytap",enable:!1}],[Yn.Tap,{enable:!1}]]:null,Gn={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Kn={doubletap:["tap"]},$n={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Jn=["keydown","keyup"],Qn=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],tr=["wheel","mousewheel","DOMMouseScroll"],er={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},nr={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},rr="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ir="undefined"!=typeof window?window:n.g,or=(void 0!==n.g?n.g:window,"undefined"!=typeof document&&document,!1);try{var ar={get passive(){return or=!0,!0}};ir.addEventListener("test",ar,ar),ir.removeEventListener("test",ar,ar)}catch(vo){}var sr=-1!==rr.indexOf("firefox"),ur=tr,cr="wheel",lr=4.000244140625,hr=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};St(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=ur.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!or&&{passive:!1})}))}return Ct(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===cr&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;ir.WheelEvent&&(sr&&t.deltaMode===ir.WheelEvent.DOM_DELTA_PIXEL&&(e/=ir.devicePixelRatio),t.deltaMode===ir.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%lr==0&&(e=Math.floor(e/lr)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:cr,center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),pr=Qn,fr="pointermove",dr="pointerover",vr="pointerout",gr="pointerleave",mr=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};St(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=pr.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Ct(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===fr&&(this.enableMoveEvent=e),t===dr&&(this.enableOverEvent=e),t===vr&&(this.enableOutEvent=e),t===gr&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:dr,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:vr,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:gr,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:fr,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),yr=Jn,br="keydown",_r="keyup",wr=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};St(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=yr.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=i.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Ct(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===br&&(this.enableDownEvent=e),t===_r&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:br,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:_r,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),kr="contextmenu",Er=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};St(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return Ct(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){t===kr&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:kr,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Tr={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Sr={srcElement:"root",priority:0},xr=function(){function t(e){St(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Ct(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Rt(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Sr,n):Sr;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),i&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var c=s.length-1;c>=0&&!(s[c].priority>=u.priority);)c--;s.splice(c+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],c=u.type,l=u.handler,h=u.once;if(l(Object.assign({},t,{type:c,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(n[s]),r)break}for(var p=0;p<a.length;p++){var f=a[p],d=f.type,v=f.handler;this.remove(d,v)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=Tr[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===e&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function Mr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pr={events:null,recognizers:null,recognizerOptions:{},Manager:qn,touchAction:"none",tabIndex:0},Or=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};St(this,t),this.options=Object.assign({},Pr,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Ct(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Xn}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Gn).forEach((function(t){var n=e.manager.get(t);n&&Gn[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new hr(t,this._onOtherEvent,{enable:!1}),this.moveInput=new mr(t,this._onOtherEvent,{enable:!1}),this.keyInput=new wr(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Er(t,this._onOtherEvent,{enable:!1});var s,u=Mr(this.events);try{for(u.s();!(s=u.n()).done;){var c=Vt(s.value,2),l=c[0],h=c[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(l,h.handleEvent))}}catch(vo){u.e(vo)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Kn[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"==typeof t){var o=this.manager,a=this.events,s=nr[t]||t,u=a.get(s);u||(u=new xr(this),a.set(s,u),u.recognizerName=er[s]||s,o&&o.on(s,u.handleEvent)),u.add(t,e,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var c in n=e,t)this._addEventHandler(c,t[c],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=nr[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=Mr(n.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.recognizerName===a&&!c.isEmpty()){s=!0;break}}}catch(vo){u.e(vo)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=$n[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var Rr={transitionDuration:0},jr={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new yn,transitionInterruption:An},Lr=["wheel"],zr=["panstart","panmove","panend"],Ar=["pinchstart","pinchmove","pinchend","pinchcancel"],Dr=["doubletap"],Ir=["keydown"],Nr=function(){function t(){var e=this;St(this,t),zt(this,"events",[]),zt(this,"mapState",void 0),zt(this,"onViewportChange",void 0),zt(this,"onStateChange",void 0),zt(this,"mapStateProps",void 0),zt(this,"eventManager",void 0),zt(this,"scrollZoom",!0),zt(this,"dragPan",!0),zt(this,"dragRotate",!0),zt(this,"doubleClickZoom",!0),zt(this,"touchZoom",!0),zt(this,"touchRotate",!1),zt(this,"keyboard",!0),zt(this,"_state",{isDragging:!1}),zt(this,"_events",{}),zt(this,"_transitionManager",new Zn),zt(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,r,i,o=function(){return i=null,t.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,e)}}(this._onWheelEnd,100)}return Ct(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new En(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,u=void 0===s?this.scrollZoom:s,c=t.dragPan,l=void 0===c?this.dragPan:c,h=t.dragRotate,p=void 0===h?this.dragRotate:h,f=t.doubleClickZoom,d=void 0===f?this.doubleClickZoom:f,v=t.touchZoom,g=void 0===v?this.touchZoom:v,m=t.touchRotate,y=void 0===m?this.touchRotate:m,b=t.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=e,this.onStateChange=n;var w=!this.mapStateProps||this.mapStateProps.height!==t.height;this.mapStateProps=t,w&&this.updateViewport(new En(t)),this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Lr,a&&u),this.toggleEvents(zr,a&&(l||p)),this.toggleEvents(Ar,a&&(g||y)),this.toggleEvents(Dr,a&&d),this.toggleEvents(Ir,a&&_),this.scrollZoom=u,this.dragPan=l,this.dragRotate=p,this.doubleClickZoom=d,this.touchZoom=g,this.touchRotate=y,this.keyboard=_}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,Rr,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,Rr,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=Vt(this.getCenter(t),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,u=e/a,c=0;n>0?Math.abs(s-i)>5&&(c=n/(i-s)*1.2):n<0&&i>5&&(c=1-r/i),c=Math.min(1,Math.max(-1,c));var l=this.mapState.rotate({deltaScaleX:u,deltaScaleY:c});return this.updateViewport(l,Rr,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,Rr,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,Rr,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,Rr,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},jr,{transitionInterpolator:new yn({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,jr)}}]),t}(),Fr=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function Zr(t){return"react-map-gl: `".concat(t,"` is removed.")}function Br(t){return"Use `".concat(t,"` instead.")}function Ur(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Fr.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=Zr(e.old);e.new&&(n="".concat(n," ").concat(Br(e.new))),console.warn(n)}}))}function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var Wr=Object.assign({},Ln.propTypes,{maxZoom:l().number,minZoom:l().number,maxPitch:l().number,minPitch:l().number,onViewStateChange:l().func,onViewportChange:l().func,onInteractionStateChange:l().func,transitionDuration:l().oneOfType([l().number,l().string]),transitionInterpolator:l().object,transitionInterruption:l().number,transitionEasing:l().func,onTransitionStart:l().func,onTransitionInterrupt:l().func,onTransitionEnd:l().func,scrollZoom:l().bool,dragPan:l().bool,dragRotate:l().bool,doubleClickZoom:l().bool,touchZoom:l().bool,touchRotate:l().bool,keyboard:l().bool,onHover:l().func,onClick:l().func,onDblClick:l().func,onContextMenu:l().func,onMouseDown:l().func,onMouseMove:l().func,onMouseUp:l().func,onTouchStart:l().func,onTouchMove:l().func,onTouchEnd:l().func,onMouseEnter:l().func,onMouseLeave:l().func,onMouseOut:l().func,onWheel:l().func,touchAction:l().string,clickRadius:l().number,interactiveLayerIds:l().array,getCursor:l().func,controller:l().instanceOf(Nr)}),Hr=Object.assign({},Ln.defaultProps,bn,Zn.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),qr=function(t){Ot(n,t);var e=Vr(n);function n(t){var r;return St(this,n),zt(xt(r=e.call(this,t)),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),zt(xt(r),"_controller",void 0),zt(xt(r),"_eventManager",void 0),zt(xt(r),"_interactiveContext",void 0),zt(xt(r),"_width",0),zt(xt(r),"_height",0),zt(xt(r),"_eventCanvasRef",(0,s.createRef)()),zt(xt(r),"_staticMapRef",(0,s.createRef)()),zt(xt(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),zt(xt(r),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(t,e)})),zt(xt(r),"_onInteractionStateChange",(function(t){var e=t.isDragging,n=void 0!==e&&e;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(t)})),zt(xt(r),"_onResize",(function(t){var e=t.width,n=t.height;r._width=e,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:e,height:n})})),zt(xt(r),"_onViewportChange",(function(t,e,n){var i=r.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:t,interactionState:e,oldViewState:n}),a&&a(t,e,n)})),zt(xt(r),"_onLoad",(function(t){r.setState({isLoaded:!0}),r.props.onLoad(t)})),zt(xt(r),"_onEvent",(function(t,e){var n=r.props[t];n&&n(r._normalizeEvent(e))})),zt(xt(r),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchStart",t);break;default:r._onEvent("onMouseDown",t)}})),zt(xt(r),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchEnd",t);break;default:r._onEvent("onMouseUp",t)}})),zt(xt(r),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchMove",t);break;default:r._onEvent("onMouseMove",t)}if(!r.state.isDragging){var e,n=r.props,i=n.onHover,o=n.interactiveLayerIds;t=r._normalizeEvent(t),r.state.isLoaded&&(o||i)&&(e=r._getFeatures({pos:t.point,radius:r.props.clickRadius})),i&&(t.features=e,i(t));var a=Boolean(o&&e&&e.length>0),s=a&&!r.state.isHovering,u=!a&&r.state.isHovering;s&&r._onEvent("onMouseEnter",t),u&&r._onEvent("onMouseLeave",t),(s||u)&&r.setState({isHovering:a})}})),zt(xt(r),"_onClick",(function(t){var e=r.props,n=e.onClick,i=e.onNativeClick,o=e.onDblClick,a=e.doubleClickZoom,s=[],u=o||a;switch(t.type){case"anyclick":s.push(i),u||s.push(n);break;case"click":u&&s.push(n)}(s=s.filter(Boolean)).length&&((t=r._normalizeEvent(t)).features=r._getFeatures({pos:t.point,radius:r.props.clickRadius}),s.forEach((function(e){return e(t)})))})),Ur(t),r._controller=t.controller||new Nr,r._eventManager=new Or(null,{touchAction:t.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return Ct(n,null,[{key:"supported",value:function(){return Ln.supported()}}]),Ct(n,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];e=o&&o.queryRenderedFeatures(s,i)}else e=o&&o.queryRenderedFeatures(n,i);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],r=new Se(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=r.unproject(n),t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.style,i=t.getCursor,o=Object.assign({position:"relative"},r,{width:e,height:n,cursor:i(this.state)});return s.createElement(Sn.Provider,{value:this._interactiveContext},s.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:o},s.createElement(Ln,(0,Tt.Z)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(s.PureComponent);function Yr(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Rt(t)&&"object"===Rt(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!Yr(t[s],e[s]))return!1}return!0}return!1}function Xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(qr,"propTypes",Wr),zt(qr,"defaultProps",Hr);var Gr={type:l().string.isRequired,id:l().string},Kr=0,$r=function(t){Ot(n,t);var e=Xr(n);function n(t){var r;return St(this,n),zt(xt(r=e.call(this,t)),"id",void 0),zt(xt(r),"type",void 0),zt(xt(r),"_map",null),zt(xt(r),"_sourceOptions",{}),zt(xt(r),"_updateSource",(function(){var t=xt(r),e=t.type;if(t._map){var n=xt(r),i=n._sourceOptions,o=n.props;Qe(!o.id||o.id===r.id,"source id changed"),Qe(o.type===e,"source type changed");var a="",s=0;for(var u in o)"children"===u||"id"===u||Yr(i[u],o[u])||(i[u]=o[u],a=u,s++);var c=r.getSource();if(c){if(s)if("geojson"===e)c.setData(i.data);else if("image"===e)c.updateImage({url:i.url,coordinates:i.coordinates});else if("canvas"!==e&&"video"!==e||1!==s||"coordinates"!==a)if("vector"===e&&c.setUrl)switch(a){case"url":c.setUrl(i.url);break;case"tiles":c.setTiles(i.tiles)}else console.warn("Unable to update <Source> prop: ".concat(a));else c.setCoordinates(i.coordinates)}else r._createSource(i)}})),r.id=t.id||"jsx-source-".concat(Kr++),r.type=t.type,r}return Ct(n,[{key:"componentWillUnmount",value:function(){var t=this,e=this._map;e&&(e.off("styledata",this._updateSource),requestAnimationFrame((function(){e.style&&e.style._loaded&&e.removeSource(t.id)})))}},{key:"getSource",value:function(){var t=this._map;return t&&t.style&&t.getSource(this.id)}},{key:"_createSource",value:function(t){var e=this._map;e.style&&e.style._loaded&&e.addSource(this.id,t)}},{key:"_render",value:function(t){var e=this;return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateSource)),this._updateSource(),s.Children.map(this.props.children,(function(t){return t&&(0,s.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return s.createElement(Sn.Consumer,null,this._render.bind(this))}}]),n}(s.PureComponent);function Jr(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt($r,"propTypes",Gr);var ti={type:l().oneOf(Object.keys({fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade"})).isRequired,id:l().string,source:l().string,beforeId:l().string};var ei=0,ni=function(t){Ot(n,t);var e=Qr(n);function n(t){var r;return St(this,n),zt(xt(r=e.call(this,t)),"id",void 0),zt(xt(r),"type",void 0),zt(xt(r),"_map",null),zt(xt(r),"_layerOptions",{}),zt(xt(r),"_updateLayer",(function(){var t=r._map;if(t){var e=xt(r),n=e.props,i=e._layerOptions;if(Qe(!n.id||n.id===r.id,"layer id changed"),Qe(n.type===r.type,"layer type changed"),r.getLayer())try{!function(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,u=n.filter,c=n.minzoom,l=n.maxzoom,h=n.beforeId,p=Jr(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(h!==r.beforeId&&t.moveLayer(e,h),o!==r.layout){var f=r.layout||{};for(var d in o)Yr(o[d],f[d])||t.setLayoutProperty(e,d,o[d]);for(var v in f)o.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(s!==r.paint){var g=r.paint||{};for(var m in s)Yr(s[m],g[m])||t.setPaintProperty(e,m,s[m]);for(var y in g)s.hasOwnProperty(y)||t.setPaintProperty(e,y,void 0)}for(var b in Yr(u,r.filter)||t.setFilter(e,u),c===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,c,l),p)Yr(p[b],r[b])||t.setLayerProperty(e,b,p[b])}(t,r.id,n,i),Object.assign(i,n)}catch(o){console.warn(o)}else r._createLayer()}})),r.id=t.id||"jsx-layer-".concat(ei++),r.type=t.type,r}return Ct(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var t=this._map;t&&(t.off("styledata",this._updateLayer),t.style&&t.style._loaded&&t.removeLayer(this.id))}},{key:"getLayer",value:function(){var t=this._map;return t&&t.style&&t.getLayer(this.id)}},{key:"_createLayer",value:function(){var t=this._map;if(t.style&&t.style._loaded){var e=Object.assign({},this.props);e.id=this.id,delete e.beforeId,t.addLayer(e,this.props.beforeId),this._layerOptions=e}}},{key:"_render",value:function(t){return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return s.createElement(Sn.Consumer,null,this._render.bind(this))}}]),n}(s.PureComponent);function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(ni,"propTypes",ti);var ii={captureScroll:l().bool,captureDrag:l().bool,captureClick:l().bool,captureDoubleClick:l().bool,capturePointerMove:l().bool},oi=function(t){Ot(n,t);var e=ri(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"_context",{}),zt(xt(t),"_events",null),zt(xt(t),"_containerRef",(0,s.createRef)()),zt(xt(t),"_onScroll",(function(e){t.props.captureScroll&&e.stopPropagation()})),zt(xt(t),"_onDragStart",(function(e){t.props.captureDrag&&e.stopPropagation()})),zt(xt(t),"_onDblClick",(function(e){t.props.captureDoubleClick&&e.stopPropagation()})),zt(xt(t),"_onClick",(function(e){t.props.captureClick&&e.stopPropagation()})),zt(xt(t),"_onPointerMove",(function(e){t.props.capturePointerMove&&e.stopPropagation()})),t}return Ct(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},e.watch(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return s.createElement(Sn.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(s.PureComponent);function ai(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lt(t)););return t}function si(){return(si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ai(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(oi,"propTypes",ii),zt(oi,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1});var ci=Object.assign({},oi.propTypes,{draggable:l().bool,onDrag:l().func,onDragEnd:l().func,onDragStart:l().func,offsetLeft:l().number,offsetTop:l().number}),li=Object.assign({},oi.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),hi=function(t){Ot(n,t);var e=ui(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"state",{dragPos:null,dragOffset:null}),zt(xt(t),"_dragEvents",null),zt(xt(t),"_onDragStart",(function(e){var n=t.props,r=n.draggable,i=n.captureDrag;if((r||i)&&e.stopPropagation(),r){var o=t._getDragEventPosition(e),a=t._getDragEventOffset(e);t.setState({dragPos:o,dragOffset:a}),t._setupDragEvents();var s=t.props.onDragStart;if(s&&a){var u=Object.assign({},e);u.lngLat=t._getDragLngLat(o,a),s(u)}}})),zt(xt(t),"_onDrag",(function(e){e.stopPropagation();var n=t._getDragEventPosition(e);t.setState({dragPos:n});var r=t.props.onDrag,i=t.state.dragOffset;if(r&&i){var o=Object.assign({},e);o.lngLat=t._getDragLngLat(n,i),r(o)}})),zt(xt(t),"_onDragEnd",(function(e){var n=t.state,r=n.dragPos,i=n.dragOffset;e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents();var o=t.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},e);a.lngLat=t._getDragLngLat(r,i),o(a)}})),zt(xt(t),"_onDragCancel",(function(e){e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents()})),t}return Ct(n,[{key:"componentWillUnmount",value:function(){si(Lt(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,r=e.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=Vt(this._getDraggedPosition(t,e),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-r,s-i])}}]),n}(oi);zt(hi,"propTypes",ci),zt(hi,"defaultProps",li);var pi="undefined"!=typeof window&&window.devicePixelRatio||1,fi=function(t){return Math.round(t*pi)/pi},di=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return fi(e/100*r)/r*100};function vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var gi=Object.assign({},hi.propTypes,{className:l().string,longitude:l().number.isRequired,latitude:l().number.isRequired}),mi=Object.assign({},hi.defaultProps,{className:""}),yi=function(t){Ot(n,t);var e=vi(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"_control",null),t}return Ct(n,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,r=t.offsetLeft,i=t.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=Vt(this._context.viewport.project([e,n]),2),c=u[0],l=u[1];return[c+=r,l+=i]}},{key:"_render",value:function(){var t=Vt(this._getPosition(),2),e=t[0],n=t[1],r="translate(".concat(fi(e),"px, ").concat(fi(n),"px)"),i=this._containerRef.current;if(this._control&&i)i.style.transform=r;else{var o=this.props,a=o.className,u=o.draggable,c=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:r,cursor:u?c?"grabbing":"grab":"auto"};this._control=s.createElement("div",{className:"mapboxgl-marker ".concat(a),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,si(Lt(n.prototype),"render",this).call(this)}}]),n}(hi);zt(yi,"propTypes",gi),zt(yi,"defaultProps",mi);var bi={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},_i=Object.keys(bi);function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}var ki=Object.assign({},oi.propTypes,{className:l().string,longitude:l().number.isRequired,latitude:l().number.isRequired,altitude:l().number,offsetLeft:l().number,offsetTop:l().number,tipSize:l().number,closeButton:l().bool,closeOnClick:l().bool,anchor:l().oneOf(Object.keys(bi)),dynamicPosition:l().bool,sortByDepth:l().bool,onClose:l().func}),Ei=Object.assign({},oi.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Ti=function(t){Ot(n,t);var e=wi(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"_closeOnClick",!1),zt(xt(t),"_contentRef",(0,s.createRef)()),zt(xt(t),"_onClick",(function(e){if(t.props.captureClick&&e.stopPropagation(),t.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){t.props.onClose();var n=t._context.eventManager;n&&n.once("click",(function(t){return t.stopPropagation()}),e.target)}})),t}return Ct(n,[{key:"componentDidMount",value:function(){si(Lt(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,c=void 0===u?0:u,l=bi[s],h=l.x,p=l.y,f=n-p*a,d=f+a,v=Math.max(0,c-f)+Math.max(0,d-i+c);if(v>0){var g=p,m=v;for(p=0;p<=1;p+=.5)d=(f=n-p*a)+a,(v=Math.max(0,c-f)+Math.max(0,d-i+c))<m&&(m=v,g=p);p=g}var y=.5;.5===p&&(h=Math.floor(h),y=1);var b=e-h*o,_=b+o,w=Math.max(0,c-b)+Math.max(0,_-r+c);if(w>0){var k=h,E=w;for(h=0;h<=1;h+=y)_=(b=e-h*o)+o,(w=Math.max(0,c-b)+Math.max(0,_-r+c))<E&&(E=w,k=h);h=k}return _i.find((function(t){var e=bi[t];return e.x===h&&e.y===p}))||s}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(t,e,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,c=bi[r],l=t+a,h=e+s,p=this._containerRef.current,f=di(p,100*-c.x),d=di(p,100*-c.y,"y"),v={position:"absolute",transform:"\n        translate(".concat(f,"%, ").concat(d,"%)\n        translate(").concat(fi(l),"px, ").concat(fi(h),"px)\n      "),display:void 0,zIndex:void 0};return u?(n>1||n<-1||t<0||t>i.width||e<0||e>i.height?v.display="none":v.zIndex=Math.floor((1-n)/2*1e5),v):v}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return s.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return s.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&s.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.altitude,o=Vt(this._context.viewport.project([n,r,i]),3),a=o[0],u=o[1],c=o[2],l=this._getPosition(a,u),h=this._getContainerStyle(a,u,c,l);return s.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(e),style:h,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),n}(oi);function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Ti,"propTypes",ki),zt(Ti,"defaultProps",Ei);var xi,Mi=Object.assign({},oi.propTypes,{className:l().string,container:l().object,label:l().string}),Ci=Object.assign({},oi.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),Pi=function(t){Ot(n,t);var e=Si(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"state",{isFullscreen:!1,showButton:!1}),zt(xt(t),"_mapboxFullscreenControl",null),zt(xt(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),zt(xt(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return Ct(n,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(Xe().FullscreenControl)({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Ue.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Ue.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return s.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props,e=t.className,n=t.label,r=this.state.isFullscreen?"shrink":"fullscreen";return s.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(r,n,this._onClickFullscreen))}}]),n}(oi);function Oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Pi,"propTypes",Mi),zt(Pi,"defaultProps",Ci);var Ri=Object.assign({},Zn.defaultProps,{transitionDuration:500}),ji=function(){},Li=Object.assign({},oi.propTypes,{className:l().string,style:l().object,label:l().string,auto:l().bool,positionOptions:l().object,fitBoundsOptions:l().object,trackUserLocation:l().bool,showUserLocation:l().bool,onViewStateChange:l().func,onViewportChange:l().func,onGeolocate:l().func}),zi=Object.assign({},oi.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),Ai=function(t){Ot(n,t);var e=Oi(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"state",{supportsGeolocation:!1,markerPosition:null}),zt(xt(t),"_mapboxGeolocateControl",null),zt(xt(t),"_geolocateButtonRef",(0,s.createRef)()),zt(xt(t),"_setupMapboxGeolocateControl",(function(e){if(e){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in t.props&&null!==t.props[e]&&(n[e]=t.props[e])}));var r=new(Xe().GeolocateControl)(n);t._mapboxGeolocateControl=r,r._watchState="OFF",r._geolocateButton=t._geolocateButtonRef.current,r.options.trackUserLocation&&r._geolocateButton&&r._geolocateButton.setAttribute("aria-pressed","false"),r._updateMarker=t._updateMarker,r._updateCamera=t._updateCamera,r._setup=!0;var i=t._context.eventManager;r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",t.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),zt(xt(t),"_triggerGeolocate",(function(){var e=t._mapboxGeolocateControl;return e._map=t._context.map,t.props.showUserLocation&&(e.on("geolocate",t._updateMarker),e.on("trackuserlocationend",t._updateMarker)),t._mapboxGeolocateControl.trigger()})),zt(xt(t),"_updateMarker",(function(e){e&&t.setState({markerPosition:e.coords})})),zt(xt(t),"_getBounds",(function(t){var e=new(Xe().LngLat)(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),zt(xt(t),"_updateCamera",(function(e){var n=t._context.viewport,r=t._getBounds(e),i=new Se(n).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,u=Object.assign({},n,{longitude:o,latitude:a,zoom:s}),c=new En(u),l=Object.assign({},c.getViewportProps(),Ri),h=t.props.onViewportChange||t._context.onViewportChange||ji;(t.props.onViewStateChange||t._context.onViewStateChange||ji)({viewState:l}),h(l)})),zt(xt(t),"_renderButton",(function(e,n,r){return s.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:t._geolocateButtonRef,type:"button",title:n,onClick:r},s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),zt(xt(t),"_renderMarker",(function(){var e=t.state.markerPosition,n=t.props.showUserLocation;return e&&n?s.createElement(yi,{key:"location-maker",longitude:e.longitude,latitude:e.latitude,captureDrag:!1,captureDoubleClick:!1},s.createElement("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),t}return Ct(n,[{key:"componentDidMount",value:function(){var t=this;(void 0!==xi?Promise.resolve(xi):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return xi="denied"!==t.state})):(xi=Boolean(window.navigator.geolocation),Promise.resolve(xi))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e),e&&t.props.auto&&t._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(t){this.state.supportsGeolocation&&!t.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style,r=t.label;return s.createElement("div",null,this._renderMarker(),s.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(oi);function Di(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Ai,"propTypes",Li),zt(Ai,"defaultProps",zi);var Ii=function(){},Ni=Object.assign({},oi.propTypes,{className:l().string,onViewStateChange:l().func,onViewportChange:l().func,showCompass:l().bool,showZoom:l().bool,zoomInLabel:l().string,zoomOutLabel:l().string,compassLabel:l().string}),Fi=Object.assign({},oi.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function Zi(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,"1.6.0")>=0?2:1}var Bi=function(t){Ot(n,t);var e=Di(n);function n(t){var r;return St(this,n),zt(xt(r=e.call(this,t)),"_uiVersion",void 0),zt(xt(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),zt(xt(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),zt(xt(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),Ur(t),r}return Ct(n,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new En(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),jr),i=this.props.onViewportChange||this._context.onViewportChange||Ii;(this.props.onViewStateChange||this._context.onViewStateChange||Ii)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing,e={transform:"rotate(".concat(-t,"deg)")};return 2===this._uiVersion?s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:e}):s.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:e})}},{key:"_renderButton",value:function(t,e,n,r){return s.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||s.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom,i=t.zoomInLabel,o=t.zoomOutLabel,a=t.compassLabel;if(!this._uiVersion){var u=this._context.map;this._uiVersion=u?Zi(u.version):2}return s.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in",i,this._onZoomIn),r&&this._renderButton("zoom-out",o,this._onZoomOut),n&&this._renderButton("compass",a,this._onResetNorth,this._renderCompass()))}}]),n}(oi);function Ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Bi,"propTypes",Ni),zt(Bi,"defaultProps",Fi);var Vi=Object.assign({},oi.propTypes,{maxWidth:l().number,unit:l().oneOf(["imperial","metric","nautical"])}),Wi=Object.assign({},oi.defaultProps,{maxWidth:100,unit:"metric"}),Hi=function(t){Ot(n,t);var e=Ui(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"_control",null),zt(xt(t),"_mapboxScaleControl",null),t}return Ct(n,[{key:"componentDidMount",value:function(){var t=new(Xe().ScaleControl);t._map=this._context.map,t._container=this._containerRef.current,this._mapboxScaleControl=t,this._update()}},{key:"_update",value:function(){var t=this._mapboxScaleControl;t&&(t.options=this.props,t._onMove())}},{key:"_render",value:function(){return this._control=this._control||s.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(oi);function qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Hi,"propTypes",Vi),zt(Hi,"defaultProps",Wi);var Yi=Object.assign({},oi.propTypes,{redraw:l().func.isRequired}),Xi=function(t){Ot(n,t);var e=qi(n);function n(){var t;St(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zt(xt(t=e.call.apply(e,[this].concat(i))),"_canvas",void 0),zt(xt(t),"_ctx",void 0),zt(xt(t),"_redraw",(function(){var e=t._ctx;if(e){var n=Be.devicePixelRatio||1;e.save(),e.scale(n,n);var r=t._context,i=r.viewport,o=r.isDragging;t.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),t}return Ct(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=Be.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),s.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(oi);function Gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt(Xi,"propTypes",Yi),zt(Xi,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var Ki=Object.assign({},oi.propTypes,{redraw:l().func.isRequired,style:l().object}),$i=function(t){Ot(n,t);var e=Gi(n);function n(){return St(this,n),e.apply(this,arguments)}return Ct(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return s.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(oi);function Ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}zt($i,"propTypes",Ki),zt($i,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var Qi=Object.assign({},oi.propTypes,{redraw:l().func.isRequired,style:l().object}),to=function(t){Ot(n,t);var e=Ji(n);function n(){return St(this,n),e.apply(this,arguments)}return Ct(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return s.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(oi);zt(to,"propTypes",Qi),zt(to,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});Xe()&&Xe().setRTLTextPlugin;var eo=n(7534);var no={name:"cx1ak7",styles:"display:flex;flex-direction:row;margin:1rem;width:100%;h3{display:inline;margin:1rem;}.react-switch{margin-left:4px;vertical-align:middle;}"},ro=function(t){var e=t.provider,n=t.state,r=t.toggle,i=(0,s.useState)(!0),o=i[0],a=i[1];return(0,u.tZ)("div",{css:no,className:"react-switch-container"},(0,u.tZ)("label",null,(0,u.tZ)(eo.default,{onChange:function(t){a(t),r(!n)},onColor:"#c9c9fb",offColor:"#E5E4E2",onHandleColor:"#4A49F5",checkedIcon:!1,uncheckedIcon:!1,checked:o,className:"react-switch"}),(0,u.tZ)("h3",null,e)))},io=(0,u.iv)("background:",_t,";border-radius:10px;box-shadow:rgba(0, 0, 0, .4) 0 20px 20px -15px;color:navy;font-family:",mt,";height:auto;margin-right:1rem;padding:1.5rem;width:16rem;z-index:1;h2{margin-top:0.5rem;}",""),oo=function(t){var e=t.comcast,n=t.toggleComcast,r=t.netblazr,i=t.toggleNetblazr,o=t.rcn,a=t.toggleRcn,s=t.starry,c=t.toggleStarry;return(0,u.tZ)("div",{css:io},(0,u.tZ)("h2",null,"FCC Reported Provider Coverage"),(0,u.tZ)(ro,{provider:"Comcast",state:e,toggle:n}),(0,u.tZ)(ro,{provider:"netBlazr",state:r,toggle:i}),(0,u.tZ)(ro,{provider:"RCN",state:o,toggle:a}),(0,u.tZ)(ro,{provider:"Starry",state:s,toggle:c}))};var ao={name:"12iuoey",styles:"bottom:4.2rem;position:absolute;right:1rem"},so={name:"7gixsv",styles:"height:100vh;position:absolute;top:0"},uo={name:"1hacyyd",styles:"align-items:center;display:flex;height:100%;justify-content:end;position:absolute;width:100%"},co={name:"1s6dkst",styles:"padding:0 0.4rem;h2{font-size:1.4rem;margin:0.2rem;}"},lo=function(){var t=(0,s.useRef)();(0,s.useEffect)((function(){if(t&&t.current)t.current.getMap()}),[]);var e=(0,s.useState)({latitude:42.41722,longitude:-71.02446,zoom:12,transitionDuration:1e3}),n=e[0],r=e[1],i=(0,s.useState)(!1),o=i[0],a=i[1],c=(0,s.useState)(),l=c[0],h=c[1],p=(0,s.useState)(),f=p[0],d=p[1],v=(0,s.useState)(!0),g=v[0],m=v[1],y=(0,s.useState)(!0),b=y[0],_=y[1],w=(0,s.useState)(!0),k=w[0],E=w[1],T=(0,s.useState)(!0),S=T[0],x=T[1],M=(0,s.useCallback)((function(t){return r(t)}),[]);function C(t){switch(t){case"42":case"43":return"Cable";case"42,50":return"Cable & Fiber";case"50":return"Fiber";case"70":return"Fixed Wireless";default:return""}}return(0,u.tZ)("div",{css:so},(0,u.tZ)("div",{css:uo},(0,u.tZ)(oo,{comcast:g,toggleComcast:m,netblazr:b,toggleNetblazr:_,rcn:k,toggleRcn:E,starry:S,toggleStarry:x})),(0,u.tZ)(qr,(0,Tt.Z)({},n,{ref:t,width:"100vw",height:"100%",onViewportChange:M,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/ckzn61agl000c14qjecumnu8o",scrollZoom:!1,onHover:function(t){t.features&&t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer}))&&(g&&void 0!==t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer})).properties.Comcast||b&&void 0!==t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer})).properties.netBlazr||k&&void 0!==t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer})).properties.RCN||S&&void 0!==t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer})).properties.Starry)?(h(t.lngLat),a(!0),d(t.features.find((function(t){return"broadband_providers_block10_v-djgyr6"===t.sourceLayer})).properties)):a(!1)}}),f?o&&(0,u.tZ)(Ti,{latitude:l[1],longitude:l[0],closeButton:!1,onClose:function(){return a(!1)},anchor:"top"},(0,u.tZ)("div",{css:co},(0,u.tZ)("h2",null,g&&void 0!==(null==f?void 0:f.Comcast)?"Comcast: "+C(null==f?void 0:f.Comcast):""),(0,u.tZ)("h2",null,b&&void 0!==(null==f?void 0:f.netBlazr)?"netBlazr: "+C(null==f?void 0:f.netBlazr):""),(0,u.tZ)("h2",null,k&&void 0!==(null==f?void 0:f.RCN)?"RCN: "+C(null==f?void 0:f.RCN):""),(0,u.tZ)("h2",null,S&&void 0!==(null==f?void 0:f.Starry)?"Starry: "+C(null==f?void 0:f.Starry):""))):!o,(0,u.tZ)($r,{id:"Municipalities",type:"vector",url:"mapbox://ihill.763lks2o"},(0,u.tZ)(ni,{type:"fill",id:"Municipal highlight",source:"Municipalities","source-layer":"MAPC_borders-0im3ea",paint:{"fill-color":["match",["get","municipal"],"Chelsea","hsla(0, 0%, 0%, 0)","Everett","hsla(0, 0%, 0%, 0)","Revere","hsla(0, 0%, 0%, 0)","hsla(0, 0%, 0%, 0.4)"]}})),(0,u.tZ)($r,{id:"All Broadband",type:"vector",url:"mapbox://ihill.1qg5vf3o"},(0,u.tZ)(ni,{type:"fill",id:"Comcast",source:"All Broadband","source-layer":"broadband_providers_block10_v-djgyr6",paint:{"fill-color":g?["match",["get","Comcast"],"43","blue","hsla(0, 0%, 0%, 0)"]:"hsla(0, 0%, 0%, 0)","fill-opacity":.25}}),(0,u.tZ)(ni,{type:"fill",id:"netBlazr",source:"All Broadband","source-layer":"broadband_providers_block10_v-djgyr6",paint:{"fill-color":b?["match",["get","netBlazr"],"70","blue","hsla(0, 0%, 0%, 0)"]:"hsla(0, 0%, 0%, 0)","fill-opacity":.25}}),(0,u.tZ)(ni,{type:"fill",id:"RCN",source:"All Broadband","source-layer":"broadband_providers_block10_v-djgyr6",paint:{"fill-color":k?["match",["get","RCN"],"42","blue","50","blue","42,50","blue","hsla(0, 0%, 0%, 0)"]:"hsla(0, 0%, 0%, 0)","fill-opacity":.25}}),(0,u.tZ)(ni,{type:"fill",id:"Starry",source:"All Broadband","source-layer":"broadband_providers_block10_v-djgyr6",paint:{"fill-color":S?["match",["get","Starry"],"70","blue","70,50","blue","hsla(0, 0%, 0%, 0)"]:"hsla(0, 0%, 0%, 0)","fill-opacity":.25}})),(0,u.tZ)($r,{id:"All Blocks",type:"vector",url:"mapbox://ihill.4rxyz9qn"},(0,u.tZ)(ni,{type:"line",id:"Blocks (border)",source:"Blocks","source-layer":"blocks_chelsea_everett_revere-ak2dce",paint:{"line-color":"slategray","line-width":.5}})),(0,u.tZ)("div",{css:ao},(0,u.tZ)(Bi,null))))},ho=(0,u.iv)("background:",yt,";height:100vh;margin:0;padding:0;width:100vw;",""),po=function(){return(0,u.tZ)("div",{css:ho},(0,u.tZ)(lo,null))},fo=function(){return(0,u.tZ)(s.Fragment,null,(0,u.tZ)(gt,null,(0,u.tZ)("title",null,"FCC Map"),(0,u.tZ)("link",{href:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css",rel:"stylesheet"})),(0,u.tZ)(Et,null,(0,u.tZ)("main",null,(0,u.tZ)("div",{css:kt},(0,u.tZ)(po,null)))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-e3063ee28847d2850348.js.map